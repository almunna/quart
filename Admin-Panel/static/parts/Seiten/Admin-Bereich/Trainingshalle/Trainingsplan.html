<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<title>{{ WhiteLabel['Bezeichnung'] }} | Trainingspläne - Trainingshalle → Admin-Bereich</title>
	<!--favicon-->
	<link rel="icon" href="https://cdn.personalpeak360.de/white-label/{{ WhiteLabel['Favicon'] }}" type="image/png">
	<!--plugins-->
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
	<!--Data Tables -->
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/datatable/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css">
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/datatable/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css">
	<!--plugins-->
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/fullcalendar/css/main.min.css" rel="stylesheet" />
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
	<link href="https://cdn.personalpeak360.de/syndash/assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet" />
	<!-- loader-->
	<link href="https://cdn.personalpeak360.de/syndash/assets/css/pace.min.css" rel="stylesheet" />
	<script src="https://cdn.personalpeak360.de/syndash/assets/js/pace.min.js"></script>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.personalpeak360.de/syndash/assets/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&family=Roboto&display=swap" />
	<!-- Icons CSS -->
	<link rel="stylesheet" href="https://cdn.personalpeak360.de/syndash/assets/css/icons.css" />
	<!-- App CSS -->
	<link rel="stylesheet" href="https://cdn.personalpeak360.de/syndash/assets/css/app.css" />
	<link rel="stylesheet" href="https://cdn.personalpeak360.de/syndash/assets/css/dark-sidebar.css" />
	<link rel="stylesheet" href="https://cdn.personalpeak360.de/syndash/assets/css/dark-theme.css" />

	<script src="https://cdn.personalpeak360.de/assets/custom/benachrichtigung/benachrichtigung.js"></script>
	<link rel="stylesheet" href="https://cdn.personalpeak360.de/assets/custom/benachrichtigung/benachrichtigung.css">
	<script src="https://cdn.personalpeak360.de/assets/vendor/js/vue.js"></script>
</head>

<body>
	<!-- wrapper -->
	<div class="wrapper">
		<!--sidebar-wrapper-->
		{{ sidebar | safe }}
		<!--end sidebar-wrapper-->
		
		{{ header | safe }}
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
		

		<!--page-wrapper-->
        <div class="page-wrapper">
            <!--page-content-wrapper-->
            <div class="page-content-wrapper">
                <div class="page-content">
					<div id="modalContainerTrainingsPlan" class="modal fade" tabindex="-1" aria-hidden="true" style="z-index: 9999 !important;"></div>

					{% for Trainingsplan in Trainingspläne %}
						<div class="modal fade" id="Details3-{{ loop.index }}" tabindex="-1" aria-labelledby="NutzerDetails" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="uploadModalLabel">Details zum Trainingsplan</h5>
									</div>
									<div class="modal-body" style="word-wrap: break-word; white-space: normal;">
										{% if Trainingsplan['Typ'] == "Übungen" %}
											<script>
												document.addEventListener('DOMContentLoaded', function () {
													// Selektiere nur die gewünschten Karten mit einer spezifischen Klasse
													const cards = document.querySelectorAll('.exercise-cardTrainingsPlan');

													// Modal Container
													const modalContainer = document.getElementById('modalContainerTrainingsPlan');

													// Event Listener für jede Karte hinzufügen
													cards.forEach(card => {
														card.addEventListener('click', function () {
															// Daten aus den data-* Attributen extrahieren
															const übungsDetails = {};
															const dataAttributes = card.dataset;

															// Über alle Attribute iterieren und sprachspezifische Details extrahieren
															Object.keys(dataAttributes).forEach(key => {
																const match = key.match(/(name|hinweise|tipps|voiceover)_(.+)/);
																if (match) {
																	const [_, type, lang] = match; // z.B. type = "name", lang = "de"
																	übungsDetails[lang] = übungsDetails[lang] || {};
																	übungsDetails[lang][type] = dataAttributes[key];
																}
															});

															languages = [
																{
																	code: 'DE',
																	name: 'Deutsch',
																	flag: 'de',
																	placeholders: {
																		name: 'Liegestütze',
																		hinweise: 'Achten Sie darauf, dass der Rücken gerade bleibt ...',
																		tipps: 'Um die Übung effektiver zu machen, ...',
																	},
																},
																{
																	code: 'EN',
																	name: 'Englisch',
																	flag: 'um',
																	placeholders: {
																		name: 'Push-ups',
																		hinweise: 'Make sure that your back remains straight ...',
																		tipps: 'To make the exercise more effective, ...',
																	},
																},
																{
																	code: 'ES',
																	name: 'Spanisch',
																	flag: 'es',
																	placeholders: {
																		name: 'Flexiones',
																		hinweise: 'Asegúrese de que su espalda permanezca recta ...',
																		tipps: 'Para hacer el ejercicio más efectivo, ...',
																	},
																},
																{
																	code: 'AR',
																	name: 'Arabisch',
																	flag: 'sa',
																	placeholders: {
																		name: 'تمارين الضغط',
																		hinweise: 'تأكد من أن ظهرك يظل مستقيماً ...',
																		tipps: 'لجعل التمرين أكثر فعالية ...',
																	},
																},
																{
																	code: 'GR',
																	name: 'Griechisch',
																	flag: 'gr',
																	placeholders: {
																		name: 'Κάμψεις',
																		hinweise: 'Βεβαιωθείτε ότι η πλάτη σας παραμένει ευθεία ...',
																		tipps: 'Για να κάνετε την άσκηση πιο αποτελεσματική, ...',
																	},
																},
																{
																	code: 'RU',
																	name: 'Russisch',
																	flag: 'ru',
																	placeholders: {
																		name: 'Отжимания',
																		hinweise: 'Убедитесь, что ваша спина остается прямой ...',
																		tipps: 'Чтобы сделать упражнение более эффективным, ...',
																	},
																},
															];

															// Modal-Inhalt generieren
															const modalContent = `
																<div class="modal-dialog modal-lg">
																	<div class="modal-content">
																		<div class="modal-header">
																			<h5 class="modal-title">${übungsDetails['de']?.name || 'Übung'}</h5>
																			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
																		</div>
																		<div class="modal-body">
																			<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
																				${languages.map((lang, index) => `
																					<li class="nav-item" role="presentation">
																						<a class="nav-link ${index === 0 ? 'active' : ''}" id="pills-${lang.code.toLowerCase()}-tab" data-bs-toggle="pill" href="#pills-${lang.code.toLowerCase()}" role="tab" aria-controls="pills-${lang.code.toLowerCase()}" aria-selected="${index === 0}">
																							<i class="flag-icon flag-icon-${lang.flag}"></i>
																							${lang.name}
																						</a>
																					</li>
																				`).join('')}
																			</ul>
																			<div class="tab-content" id="pills-tabContent">
																				${Object.keys(übungsDetails).map((lang, index) => `
																					<div class="tab-pane fade ${index === 0 ? 'show active' : ''}" id="pills-${lang}" role="tabpanel" aria-labelledby="pills-${lang}-tab">
																						<div class="form-group mb-3">
																							<label>Name (${lang.toUpperCase()})</label>
																							<input type="text" class="form-control" value="${übungsDetails[lang]?.name || ''}" readonly>
																						</div>
																						<div class="form-group mb-3">
																							<label>Hinweise (${lang.toUpperCase()})</label>
																							<textarea class="form-control" readonly>${übungsDetails[lang]?.hinweise || ''}</textarea>
																						</div>
																						<div class="form-group mb-3">
																							<label>Tipps (${lang.toUpperCase()})</label>
																							<textarea class="form-control" readonly>${übungsDetails[lang]?.tipps || ''}</textarea>
																						</div>
																						
																						<div class="form-group mb-3">
																							<label>Voiceover (${lang.toUpperCase()})</label>
																							<audio class="w-100" controls>
																								<source src="https://cdn.personalpeak360.de/trainingshalle/${übungsDetails[lang]?.voiceover || ''}" type="audio/mp3">
																								Dein Browser unterstützt das Audio-Element nicht.
																							</audio>
																						</div>
																					</div>
																				`).join('')}

																				
																				<div class="form-group mb-3">
																					<label for="Video_Animation">Animation (Video)</label>
																					
																					<video class="w-100" muted controls>
																						<source src="https://cdn.personalpeak360.de/trainingshalle/${dataAttributes['animation']}" type="video/mp4">
																						Dein Browser unterstützt das Video-Element nicht.
																					</video>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															`;

															// Modal-Inhalt einfügen
															modalContainer.innerHTML = modalContent;

															// Modal anzeigen
															const modal = new bootstrap.Modal(modalContainer);
															modal.show();
														});
													});
												});
											</script>

											<!-- Tabs für die Wochen -->
											<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
												{% for week, exercises in Trainingsplan['Daten'].items() %}
													<li class="nav-item" role="presentation">
														<a class="nav-link {% if loop.first %}active{% endif %}" 
														id="pills-{{ week }}-tab" 
														data-bs-toggle="pill" 
														href="#pills-{{ week | replace(' ', '-') }}" 
														role="tab" 
														aria-controls="pills-{{ week | replace(' ', '-') }}" 
														aria-selected="{{ loop.first }}">
															{{ week.replace('_', ' ') }}
														</a>
													</li>
												{% endfor %}
											</ul>

											<!-- Inhalte für jede Woche -->
											<div class="tab-content" id="pills-tabContent">
												{% for week, exercises in Trainingsplan['Daten'].items() %}
													<div class="tab-pane fade {% if loop.first %}active show{% endif %}" 
														id="pills-{{ week | replace(' ', '-') }}" 
														role="tabpanel" 
														aria-labelledby="pills-{{ week }}-tab">
														
														{% for übung in exercises %}
															<div class="card exercise-cardTrainingsPlan bg-dark radius-15 mb-1"
																data-animation="{{ übung['Details']['Animation'] }}"
																{% for lang, details in übung['Details']['Texte'].items() %}
																	data-name_{{ lang.lower() }}="{{ details['Name'] }}"
																	data-hinweise_{{ lang.lower() }}="{{ details['Hinweise'] }}"
																	data-tipps_{{ lang.lower() }}="{{ details['Tipps'] }}"
																	data-voiceover_{{ lang.lower() }}="{{ details['Voiceover_ID'] }}"
																{% endfor %}
																style="cursor: pointer;">
																<div class="card-body">
																	<!-- Titel der Übung -->
																	<p class="card-text text-white">
																		{{ übung['Details']['Texte']['DE']['Name'] }}
																	</p>
																	<!-- Zusätzliche Informationen -->
																	<small class="text-muted">
																		Sätze: {{ übung['Sätze'] }}, 
																		Wiederholungen: {{ übung['Wiederholungen'] }}, 
																		Pause: {{ übung['Pause'] }} Sek.
																	</small>
																	<!-- Notizen -->
																	<p class="text-muted">{{ übung['Notizen'] }}</p>
																</div>
															</div>
														{% endfor %}
													</div>
												{% endfor %}
											</div>
										{% else %}
											<!-- Datei-Download und Vorschau -->
											<div class="file-preview text-center">
												<h5>Download des Trainingsplans</h5>
												<a target="_blank" href="https://cdn.{{ WhiteLabel['Domain'] }}/trainingsplan-datei/{{ Trainingsplan['Datei'] }}" class="btn btn-primary" download>
													Datei herunterladen
												</a>
												{% if Trainingsplan['Datei'].endswith('.pdf') %}
													<div class="mt-3">
														<iframe src="https://cdn.{{ WhiteLabel['Domain'] }}/trainingsplan-datei/{{ Trainingsplan['Datei'] }}" width="100%" height="400px"></iframe>
													</div>
												{% else %}
													<p class="mt-3">Vorschau nicht verfügbar. Bitte laden Sie die Datei herunter.</p>
												{% endif %}
											</div>
										{% endif %}

									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal">Schließen</button>
									</div>
								</div>
							</div>
						</div>
					{% endfor %}



					<div id="modalContainer" class="modal fade" tabindex="-1" aria-hidden="true" style="z-index: 9999 !important;"></div>



					<div class="modal fade" id="createTrainingsplan" tabindex="-1" aria-hidden="true">
						<div class="modal-dialog modal-dialog-scrollable">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">Trainingsplan erstellen</h5>
									<button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<ul class="main-pills nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
										<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-übung-tab" data-bs-toggle="pill" href="#pills-übung" role="tab" aria-controls="pills-home" aria-selected="true">Übungen auswählen</a>
										</li>
										<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-datei-tab" data-bs-toggle="pill" href="#pills-datei" role="tab" aria-controls="pills-profile" aria-selected="false">Datei hochladen</a>
										</li>
									</ul>
									<div class="tab-content" id="pills-tabContent">
										<script>
											document.addEventListener("DOMContentLoaded", function () {
												const submitButton = document.getElementById("submit-button");

												submitButton.addEventListener("click", function () {
													const activeTab = document.querySelector(".nav-pills .nav-link.active").id;

													if (activeTab === "pills-übung-tab") {
														const formÜbung = document.getElementById("form-übung");
														if (formÜbung) {
															formÜbung.submit();
														} else {
															console.error("Formular 'form-übung' wurde nicht gefunden.");
														}
													} else if (activeTab === "pills-datei-tab") {
														const formDatei = document.getElementById("form-datei");
														if (formDatei) {
															formDatei.submit();
														} else {
															console.error("Formular 'form-datei' wurde nicht gefunden.");
														}
													}
												});
											});
										</script>
										<div class="tab-pane fade show active" id="pills-übung" role="tabpanel" aria-labelledby="pills-übung-tab">
											<form id="form-übung" action="https://dashboard.{{ WhiteLabel['Domain'] }}/admin/trainingshalle/pläne?art=übung" method="POST">
												<div class="form-group mb-3">
													<label for="Name">Name des Trainingsplan</label>
													<input type="text" class="form-control" name="Name" id="Name" placeholder="Trainingsplan für Max">
												</div>
												<div class="form-group mb-3">
													<label for="Kunde">Mit welchem Bezug erstellst du diesen Trainingsplan?</label>
													<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
														<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Bezug auf Kunde</a>
														</li>
														<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Bezug auf Anfrage</a>
														</li>
													</ul>
													<div class="tab-content" id="pills-tabContent">
														<div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
															<select class="form-select" name="Kunde" id="Kunde">
																<option selected disabled>--- BITTE EINEN NUTZER WÄHLEN ---</option>
																{% for Nutzer in Nutzer_Liste %}
																	<option value="{{ Nutzer['id'] }}">{{ Nutzer['Vorname'] }} {{ Nutzer['Nachname'] }}</option>
																{% endfor %}
															</select>
														</div>
														<div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
															<script>
																document.addEventListener("DOMContentLoaded", function () {
																	// Element-Auswahl für die Anfrage und das versteckte Feld
																	const anfrageSelect = document.getElementById("Anfrage_Übung");
																	const anfrageKundeInput = document.getElementById("Anfrage_Kunde_Übung");
															
																	// Event-Listener, um auf Änderungen im Select-Feld zu reagieren
																	anfrageSelect.addEventListener("change", function () {
																		// Den ausgewählten Option-Tag abrufen
																		const selectedOption = anfrageSelect.options[anfrageSelect.selectedIndex];
																		
																		// Den Wert von data-kundeID abrufen
																		const kundeID = selectedOption.getAttribute("data-kundeID");
															
																		// Den Wert in das versteckte Input-Feld einfügen
																		anfrageKundeInput.value = kundeID;
															
																		// Optional: Für Debugging
																		console.log("KundeID gesetzt auf:", kundeID);
																	});
																});
															</script>
															
															<select class="form-select" name="Anfrage" id="Anfrage_Übung">
																<option selected disabled>--- BITTE EINE ANFRAGE WÄHLEN ---</option>
																{% for Anfrage in Trainingsplan_Anfragen %}
																	{% if Anfrage['Status'] == "Warten" %}
																		<option data-kundeID="{{ Anfrage['Kunden_Details']['id'] }}" value="{{ Anfrage['id'] }}">Anfrage von {{ Anfrage['Kunden_Details']['Vorname'] }} {{ Anfrage['Kunden_Details']['Nachname'] }} | #{{ loop.index }}</option>
																	{% endif %}
																{% endfor %}
															</select>
															<input type="hidden" name="Anfrage_Kunde" id="Anfrage_Kunde_Übung" value="">
														</div>
													</div>
												</div>

												<div class="form-group mb-3">
													<label for="weeks">Anzahl der Wochen</label>
													<select class="form-select" id="weeks" name="weeks" required>
														<option value="" disabled selected>Wähle die Anzahl der Wochen</option>
														{% for i in range(1, 13) %}
														<option value="{{ i }}">{{ i }} Woche{{ 'n' if i > 1 else '' }}</option>
														{% endfor %}
													</select>
												</div>
							
												<!-- Wochen-Tabs -->
												<ul class="nav nav-pills mb-3" id="week-tabs" role="tablist"></ul>
												<div class="tab-content" id="week-tabContent"></div>
		
												<!-- Modal für Übungseinstellungen -->
												<div class="modal fade" id="exerciseParametersModal" tabindex="-1" aria-labelledby="exerciseParametersLabel" aria-hidden="true">
													<div class="modal-dialog modal-dialog-centered">
														<div class="modal-content">
															<div class="modal-header">
																<h5 class="modal-title" id="exerciseParametersLabel">Übungseinstellungen</h5>
																<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
															</div>
															<div class="modal-body">
																<form id="exerciseSettingsForm">
																	<div class="mb-3">
																		<label for="sets" class="form-label">Sätze</label>
																		<input type="number" class="form-control" id="sets" placeholder="Anzahl der Sätze">
																	</div>
																	<div class="mb-3">
																		<label for="repetitions" class="form-label">Wiederholungen</label>
																		<input type="number" class="form-control" id="repetitions" placeholder="Anzahl der Wiederholungen">
																	</div>
																	<div class="mb-3">
																		<label for="restTime" class="form-label">Pause (Sekunden)</label>
																		<input type="number" class="form-control" id="restTime" placeholder="Pausenzeit zwischen Sätzen" min="0">
																	</div>
																	<div class="mb-3">
																		<label for="notes" class="form-label">Notizen</label>
																		<textarea class="form-control" id="notes" rows="3" placeholder="Optionale Notizen zur Übung"></textarea>
																	</div>
																</form>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
																<button type="button" id="saveExerciseSettings" class="btn btn-primary">Speichern</button>
															</div>
														</div>
													</div>
												</div>
												
												
												<style>
													/* Styling für die Übungskarte */
													.exercise-item {
														display: flex;
														flex-direction: column;
														justify-content: flex-start;
														align-items: flex-start;
														padding: 15px;
														margin-bottom: 15px;
														border-radius: 10px;
														background-color: #f8f9fa; /* Hellgrauer Hintergrund */
														box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
														transition: transform 0.3s ease, box-shadow 0.3s ease;
													}
												
													.exercise-item:hover {
														transform: scale(1.02);
														box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
													}
												
													/* Übungsname */
													.exercise-item span {
														font-size: 1.2rem;
														font-weight: bold;
														color: #495057; /* Dunkler Grau-Ton */
														margin-bottom: 10px;
													}
												
													/* Parameteranzeige */
													.parameter-display {
														font-size: 0.9rem;
														color: #6c757d; /* Sekundärfarbe */
														margin-top: 10px;
														line-height: 1.5;
													}
												
													/* Buttons innerhalb der Card */
													.exercise-item button {
														margin-top: 10px;
														margin-right: 10px;
														padding: 5px 10px;
														border-radius: 5px;
														font-size: 0.9rem;
														transition: background-color 0.3s ease, color 0.3s ease;
													}
												
													.edit-parameters {
														background-color: #0d6efd;
														color: #fff;
														border: none;
													}
												
													.edit-parameters:hover {
														background-color: #0056b3;
													}
												
													.remove-exercise {
														background-color: #e63946;
														border: none;
														color: white;
													}
												
													.remove-exercise:hover {
														background-color: #d62828;
													}
												</style>
												
		
												<script>
													document.addEventListener("DOMContentLoaded", function () {
														let currentExerciseId = null; // Globale Variable für die aktuelle Übungs-ID
														let activeWeek = 1; // Standardmäßig die erste Woche aktiv
														const weekTabs = document.getElementById("week-tabs");
														const weekTabContent = document.getElementById("week-tabContent");
														const settingsModal = new bootstrap.Modal(document.getElementById("exerciseParametersModal")); // Modal für Parameter
														const addÜbungModal = new bootstrap.Modal(document.getElementById("addÜbung")); // Modal für Übungsauswahl
														const saveButton = document.getElementById("saveExerciseSettings");
														const selectButton = document.getElementById("button-auswählen");
												
														// Wochen-Auswahl-Logik
														const weeksSelect = document.getElementById("weeks");
														weeksSelect.addEventListener("change", function () {
															const weekCount = parseInt(weeksSelect.value);
															weekTabs.innerHTML = ""; // Tabs zurücksetzen
															weekTabContent.innerHTML = ""; // Inhalt zurücksetzen
												
															for (let i = 1; i <= weekCount; i++) {
																// Tab erstellen
																const tab = document.createElement("li");
																tab.className = "nav-item";
																tab.role = "presentation";
																tab.innerHTML = `
																	<a class="nav-link ${i === 1 ? "active" : ""}" id="week-${i}-tab" data-bs-toggle="pill" href="#week-${i}" role="tab" aria-controls="week-${i}" aria-selected="${i === 1}">
																		Woche ${i}
																	</a>
																`;
																tab.addEventListener("click", () => {
																	activeWeek = i; // Aktive Woche setzen
																});
																weekTabs.appendChild(tab);
												
																// Tab-Inhalt erstellen
																const tabPane = document.createElement("div");
																tabPane.className = `tab-pane fade ${i === 1 ? "show active" : ""}`;
																tabPane.id = `week-${i}`;
																tabPane.role = "tabpanel";
																tabPane.setAttribute("aria-labelledby", `week-${i}-tab`);
																tabPane.innerHTML = `
																	<h6>Übungen für Woche ${i}</h6>
																	<div class="exercise-list" id="exercise-list-${i}"></div>
																	<button type="button" class="btn btn-secondary mt-2" data-toggle="modal" data-target="#addÜbung">
																		Übung hinzufügen
																	</button>
																`;
																weekTabContent.appendChild(tabPane);
															}
														});
												
														// Funktion: Übung hinzufügen
														selectButton.addEventListener("click", () => {
															console.log(`DEBUG: selectedNAME_Übung = ${selectedNAME_Übung}`);
															console.log(`DEBUG: selectedID_Übung = ${selectedID_Übung}`);
		
															if (!selectedNAME_Übung || !selectedID_Übung) {
																console.error("Keine Übung ausgewählt.");
																return;
															}
												
															const exerciseList = document.getElementById(`exercise-list-${activeWeek}`);
															if (!exerciseList) {
																console.error(`Keine gültige Woche (${activeWeek}) ausgewählt.`);
																return;
															}
												
															// Überprüfen, ob die Übung bereits in der Liste der aktuellen Woche ist
															const existingExercise = exerciseList.querySelector(`[data-id="${selectedID_Übung}"]`);
															if (existingExercise) {
																alert("Diese Übung wurde bereits hinzugefügt.");
																return;
															}
												
															// Neues Listenelement erstellen
															const exerciseItem = document.createElement("div");
															exerciseItem.className = "exercise-item";
															exerciseItem.dataset.id = selectedID_Übung;
															exerciseItem.innerHTML = `
																<span>${selectedNAME_Übung}</span>
																<div class="parameter-display">
																	<small>
																		<strong>Sätze:</strong> 0, 
																		<strong>Wiederholungen:</strong> 0, 
																		<strong>Pause:</strong> 0 Sek.
																	</small>
																</div>
																<div class="exercise-buttons">
																	<button type="button" class="btn btn-info btn-sm edit-parameters" data-id="${selectedID_Übung}">Parameter bearbeiten</button>
																	<button type="button" class="btn btn-danger btn-sm remove-exercise" data-id="${selectedID_Übung}">Entfernen</button>
																</div>
																<input type="hidden" name="${selectedID_Übung}_name_week${activeWeek}" id="${selectedID_Übung}_name_week${activeWeek}" value="${selectedNAME_Übung}">
																<input type="hidden" name="${selectedID_Übung}_sets_week${activeWeek}" id="${selectedID_Übung}_sets_week${activeWeek}" value="">
																<input type="hidden" name="${selectedID_Übung}_repetitions_week${activeWeek}" id="${selectedID_Übung}_repetitions_week${activeWeek}" value="">
																<input type="hidden" name="${selectedID_Übung}_restTime_week${activeWeek}" id="${selectedID_Übung}_restTime_week${activeWeek}" value="">
																<input type="hidden" name="${selectedID_Übung}_notes_week${activeWeek}" id="${selectedID_Übung}_notes_week${activeWeek}" value="">
															`;
												
															// Button: Parameter bearbeiten
															exerciseItem.querySelector(".edit-parameters").addEventListener("click", () => {
																currentExerciseItem = exerciseItem; // Halte die aktuelle Übung fest
																openExerciseModal(exerciseItem, activeWeek);
															});
												
															// Button: Entfernen
															exerciseItem.querySelector(".remove-exercise").addEventListener("click", () => {
																exerciseList.removeChild(exerciseItem);
															});
															
															// Modal schließen
															const CloseÜbungsauswahl = document.getElementById('CloseÜbungsauswahl');
															CloseÜbungsauswahl.click();
		
															// Button wieder deaktivieren
															selectButton.disabled = true;
												
															// Übung zur Liste der aktuellen Woche hinzufügen
															exerciseList.appendChild(exerciseItem);
												
														});
												
														// Funktion: Übungseinstellungen bearbeiten
														function openExerciseModal(exerciseItem, week) {
															const name = exerciseItem.querySelector("span").textContent;
															document.getElementById("exerciseParametersLabel").textContent = `Einstellungen für ${name} - Woche ${week}`;
												
															const exerciseId = exerciseItem.dataset.id;
															currentExerciseId = exerciseId;
															document.getElementById("sets").value = document.getElementById(`${exerciseId}_sets_week${week}`).value;
															document.getElementById("repetitions").value = document.getElementById(`${exerciseId}_repetitions_week${week}`).value;
															document.getElementById("restTime").value = document.getElementById(`${exerciseId}_restTime_week${week}`).value;
															document.getElementById("notes").value = document.getElementById(`${exerciseId}_notes_week${week}`).value;
												
															settingsModal.show();
														}
												
														// Funktion: Parameter speichern
														saveButton.addEventListener("click", (event) => {
															event.preventDefault();
												
															if (!currentExerciseId) {
																console.error("Keine gültige Übungs-ID gefunden.");
																return;
															}
												
															const sets = document.getElementById("sets").value;
															const repetitions = document.getElementById("repetitions").value;
															const restTime = document.getElementById("restTime").value;
															const notes = document.getElementById("notes").value;
												
															if (!sets || !repetitions || !restTime) {
																alert("Bitte alle Pflichtfelder ausfüllen.");
																return;
															}
												
															// Werte in Hidden Inputs speichern
															document.getElementById(`${currentExerciseId}_sets_week${activeWeek}`).value = sets;
															document.getElementById(`${currentExerciseId}_repetitions_week${activeWeek}`).value = repetitions;
															document.getElementById(`${currentExerciseId}_restTime_week${activeWeek}`).value = restTime;
															document.getElementById(`${currentExerciseId}_notes_week${activeWeek}`).value = notes;
												
															// Anzeige aktualisieren
															const paramDisplay = currentExerciseItem.querySelector(".parameter-display");
															paramDisplay.innerHTML = `
																<small>
																	<strong>Sätze:</strong> ${sets}, 
																	<strong>Wiederholungen:</strong> ${repetitions}, 
																	<strong>Pause:</strong> ${restTime} Sek.
																	${notes ? `<br><strong>Notizen:</strong> ${notes}` : ""}
																</small>
															`;
												
															settingsModal.hide();
														});
													});
												</script>


												<hr>

												<button type="button" class="btn btn-secondary mb-2" data-dismiss="modal">Schließen</button>
												<button type="submit" id="submit-button" class="btn btn-primary">Trainingsplan erstellen & Versenden</button>
											</form>
										</div>
										<div class="tab-pane fade" id="pills-datei" role="tabpanel" aria-labelledby="pills-datei-tab">
											<form id="form-datei" action="https://dashboard.{{ WhiteLabel['Domain'] }}/admin/trainingshalle/pläne?art=datei" method="POST" enctype="multipart/form-data">
												<div class="form-group mb-3">
													<label for="Name">Name des Trainingsplan</label>
													<input type="text" class="form-control" name="Name" id="Name" placeholder="Trainingsplan für Max">
												</div>

												<div class="form-group mb-3">
													<label for="Kunde">Mit welchem Bezug erstellst du diesen Trainingsplan?</label>
													<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
														<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-kunde-tab" data-bs-toggle="pill" href="#pills-kunde" role="tab" aria-controls="pills-kunde" aria-selected="true">Bezug auf Kunde</a>
														</li>
														<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-anfrage-tab" data-bs-toggle="pill" href="#pills-anfrage" role="tab" aria-controls="pills-anfrage" aria-selected="false">Bezug auf Anfrage</a>
														</li>
													</ul>
													<div class="tab-content" id="pills-tabContent">
														<div class="tab-pane fade show active" id="pills-kunde" role="tabpanel" aria-labelledby="pills-kunde-tab">
															<select class="form-select" name="Kunde" id="Kunde">
																<option selected disabled>--- BITTE EINEN NUTZER WÄHLEN ---</option>
																{% for Nutzer in Nutzer_Liste %}
																	<option value="{{ Nutzer['id'] }}">{{ Nutzer['Vorname'] }} {{ Nutzer['Nachname'] }}</option>
																{% endfor %}
															</select>
														</div>
														<div class="tab-pane fade" id="pills-anfrage" role="tabpanel" aria-labelledby="pills-anfrage-tab">
															
															<script>
																document.addEventListener("DOMContentLoaded", function () {
																	// Element-Auswahl für die Anfrage und das versteckte Feld
																	const anfrageSelect = document.getElementById("Anfrage_Datei");
																	const anfrageKundeInput = document.getElementById("Anfrage_Kunde_Datei");
															
																	// Event-Listener, um auf Änderungen im Select-Feld zu reagieren
																	anfrageSelect.addEventListener("change", function () {
																		// Den ausgewählten Option-Tag abrufen
																		const selectedOption = anfrageSelect.options[anfrageSelect.selectedIndex];
																		
																		// Den Wert von data-kundeID abrufen
																		const kundeID = selectedOption.getAttribute("data-kundeID");
															
																		// Den Wert in das versteckte Input-Feld einfügen
																		anfrageKundeInput.value = kundeID;
															
																		// Optional: Für Debugging
																		console.log("KundeID gesetzt auf:", kundeID);
																	});
																});
															</script>
															
															<select class="form-select" name="Anfrage" id="Anfrage_Datei">
																<option selected disabled>--- BITTE EINE ANFRAGE WÄHLEN ---</option>
																{% for Anfrage in Trainingsplan_Anfragen %}
																	{% if Anfrage['Status'] == "Warten" %}
																		<option data-kundeID="{{ Anfrage['Kunden_Details']['id'] }}" value="{{ Anfrage['id'] }}">Anfrage von {{ Anfrage['Kunden_Details']['Vorname'] }} {{ Anfrage['Kunden_Details']['Nachname'] }} | #{{ loop.index }}</option>
																	{% endif %}
																{% endfor %}
															</select>
															<input type="hidden" name="Anfrage_Kunde" id="Anfrage_Kunde_Datei" value="">
														</div>
													</div>
												</div>

												<div class="form-group mb-3">
													<label for="Datei">Trainingsplan als Datei (Word oder PDF) hochladen:</label>
													<input type="file" class="form-control" name="Datei" id="Datei" accept=".doc,.docx,.pdf">
												</div>


												<hr>
												
												<button type="button" class="btn btn-secondary mb-2" data-dismiss="modal">Schließen</button>
												<button type="submit" id="submit-button" class="btn btn-primary">Trainingsplan erstellen & Versenden</button>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<div class="modal fade" id="createTrainingsplan_Vorlage" tabindex="-1" aria-hidden="true">
						<div class="modal-dialog modal-dialog-scrollable">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">Trainingsplan-Vorlage erstellen</h5>
									<button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<ul class="main-pills nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
										<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-übung-tab" data-bs-toggle="pill" href="#pills-übungVorlage" role="tab" aria-controls="pills-home" aria-selected="true">Übungen auswählen</a>
										</li>
										<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-datei-tab" data-bs-toggle="pill" href="#pills-dateiVorlage" role="tab" aria-controls="pills-profile" aria-selected="false">Datei hochladen</a>
										</li>
									</ul>
									<div class="tab-content" id="pills-tabContent">
										<script>
											document.addEventListener("DOMContentLoaded", function () {
												const submitButton = document.getElementById("submit-button");

												submitButton.addEventListener("click", function () {
													const activeTab = document.querySelector(".nav-pills .nav-link.active").id;

													if (activeTab === "pills-übung-tab") {
														const formÜbung = document.getElementById("form-übung");
														if (formÜbung) {
															formÜbung.submit();
														} else {
															console.error("Formular 'form-übung' wurde nicht gefunden.");
														}
													} else if (activeTab === "pills-datei-tab") {
														const formDatei = document.getElementById("form-datei");
														if (formDatei) {
															formDatei.submit();
														} else {
															console.error("Formular 'form-datei' wurde nicht gefunden.");
														}
													}
												});
											});
										</script>
										<div class="tab-pane fade show active" id="pills-übungVorlage" role="tabpanel" aria-labelledby="pills-übung-tab">
											<form id="form-übung" action="https://dashboard.{{ WhiteLabel['Domain'] }}/admin/trainingshalle/pläne?art=vorlage_übung" method="POST">
												<div class="form-group mb-3">
													<label for="Name">Name des Trainingsplan</label>
													<input type="text" class="form-control" name="Name" id="Name" placeholder="Trainingsplan für Max">
												</div>
												

												<div class="form-group mb-3">
													<label for="weeks">Anzahl der Wochen</label>
													<select class="form-select" id="weeks_vorlage_übung" name="weeks" required>
														<option value="" disabled selected>Wähle die Anzahl der Wochen</option>
														{% for i in range(1, 13) %}
														<option value="{{ i }}">{{ i }} Woche{{ 'n' if i > 1 else '' }}</option>
														{% endfor %}
													</select>
												</div>
							
												<!-- Wochen-Tabs -->
												<ul class="nav nav-pills mb-3" id="week-tabs2" role="tablist"></ul>
												<div class="tab-content" id="week-tabContent2"></div>
		
												<!-- Modal für Übungseinstellungen -->
												<div class="modal fade" id="exerciseParametersModal2" tabindex="-1" aria-labelledby="exerciseParametersLabel" aria-hidden="true">
													<div class="modal-dialog modal-dialog-centered">
														<div class="modal-content">
															<div class="modal-header">
																<h5 class="modal-title" id="exerciseParametersLabel">Übungseinstellungen</h5>
																<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
															</div>
															<div class="modal-body">
																<form id="exerciseSettingsForm">
																	<div class="mb-3">
																		<label for="sets" class="form-label">Sätze</label>
																		<input type="number" class="form-control" id="sets" placeholder="Anzahl der Sätze">
																	</div>
																	<div class="mb-3">
																		<label for="repetitions" class="form-label">Wiederholungen</label>
																		<input type="number" class="form-control" id="repetitions" placeholder="Anzahl der Wiederholungen">
																	</div>
																	<div class="mb-3">
																		<label for="restTime" class="form-label">Pause (Sekunden)</label>
																		<input type="number" class="form-control" id="restTime" placeholder="Pausenzeit zwischen Sätzen" min="0">
																	</div>
																	<div class="mb-3">
																		<label for="notes" class="form-label">Notizen</label>
																		<textarea class="form-control" id="notes" rows="3" placeholder="Optionale Notizen zur Übung"></textarea>
																	</div>
																</form>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
																<button type="button" id="saveExerciseSettings2" class="btn btn-primary">Speichern</button>
															</div>
														</div>
													</div>
												</div>
												
												
												<style>
													/* Styling für die Übungskarte */
													.exercise-item {
														display: flex;
														flex-direction: column;
														justify-content: flex-start;
														align-items: flex-start;
														padding: 15px;
														margin-bottom: 15px;
														border-radius: 10px;
														background-color: #f8f9fa; /* Hellgrauer Hintergrund */
														box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
														transition: transform 0.3s ease, box-shadow 0.3s ease;
													}
												
													.exercise-item:hover {
														transform: scale(1.02);
														box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
													}
												
													/* Übungsname */
													.exercise-item span {
														font-size: 1.2rem;
														font-weight: bold;
														color: #495057; /* Dunkler Grau-Ton */
														margin-bottom: 10px;
													}
												
													/* Parameteranzeige */
													.parameter-display {
														font-size: 0.9rem;
														color: #6c757d; /* Sekundärfarbe */
														margin-top: 10px;
														line-height: 1.5;
													}
												
													/* Buttons innerhalb der Card */
													.exercise-item button {
														margin-top: 10px;
														margin-right: 10px;
														padding: 5px 10px;
														border-radius: 5px;
														font-size: 0.9rem;
														transition: background-color 0.3s ease, color 0.3s ease;
													}
												
													.edit-parameters {
														background-color: #0d6efd;
														color: #fff;
														border: none;
													}
												
													.edit-parameters:hover {
														background-color: #0056b3;
													}
												
													.remove-exercise {
														background-color: #e63946;
														border: none;
														color: white;
													}
												
													.remove-exercise:hover {
														background-color: #d62828;
													}
												</style>
												
		
												<script>
													document.addEventListener("DOMContentLoaded", function () {
														let currentExerciseId = null; // Globale Variable für die aktuelle Übungs-ID
														let activeWeek = 1; // Standardmäßig die erste Woche aktiv
														const weekTabs = document.getElementById("week-tabs2");
														const weekTabContent = document.getElementById("week-tabContent2");
														const settingsModal = new bootstrap.Modal(document.getElementById("exerciseParametersModal2")); // Modal für Parameter
														const addÜbungModal = new bootstrap.Modal(document.getElementById("addÜbung2")); // Modal für Übungsauswahl
														const saveButton = document.getElementById("saveExerciseSettings2");
														const selectButton = document.getElementById("button-auswählen2");
												
														// Wochen-Auswahl-Logik
														const weeksSelect = document.getElementById("weeks_vorlage_übung");
														weeksSelect.addEventListener("change", function () {
															const weekCount = parseInt(weeksSelect.value);
															weekTabs.innerHTML = ""; // Tabs zurücksetzen
															weekTabContent.innerHTML = ""; // Inhalt zurücksetzen
												
															for (let i = 1; i <= weekCount; i++) {
																// Tab erstellen
																const tab = document.createElement("li");
																tab.className = "nav-item";
																tab.role = "presentation";
																tab.innerHTML = `
																	<a class="nav-link ${i === 1 ? "active" : ""}" id="week-${i}-tab" data-bs-toggle="pill" href="#week-${i}" role="tab" aria-controls="week-${i}" aria-selected="${i === 1}">
																		Woche ${i}
																	</a>
																`;
																tab.addEventListener("click", () => {
																	activeWeek = i; // Aktive Woche setzen
																});
																weekTabs.appendChild(tab);
												
																// Tab-Inhalt erstellen
																const tabPane = document.createElement("div");
																tabPane.className = `tab-pane fade ${i === 1 ? "show active" : ""}`;
																tabPane.id = `week-${i}`;
																tabPane.role = "tabpanel";
																tabPane.setAttribute("aria-labelledby", `week-${i}-tab`);
																tabPane.innerHTML = `
																	<h6>Übungen für Woche ${i}</h6>
																	<div class="exercise-list" id="exercise-list-${i}"></div>
																	<button type="button" class="btn btn-secondary mt-2" data-toggle="modal" data-target="#addÜbung">
																		Übung hinzufügen
																	</button>
																`;
																weekTabContent.appendChild(tabPane);
															}
														});
												
														// Funktion: Übung hinzufügen
														selectButton.addEventListener("click", () => {
															console.log(`DEBUG: selectedNAME_Übung = ${selectedNAME_Übung}`);
															console.log(`DEBUG: selectedID_Übung = ${selectedID_Übung}`);
		
															if (!selectedNAME_Übung || !selectedID_Übung) {
																console.error("Keine Übung ausgewählt.");
																return;
															}
												
															const exerciseList = document.getElementById(`exercise-list-${activeWeek}`);
															if (!exerciseList) {
																console.error(`Keine gültige Woche (${activeWeek}) ausgewählt.`);
																return;
															}
												
															// Überprüfen, ob die Übung bereits in der Liste der aktuellen Woche ist
															const existingExercise = exerciseList.querySelector(`[data-id="${selectedID_Übung}"]`);
															if (existingExercise) {
																alert("Diese Übung wurde bereits hinzugefügt.");
																return;
															}
												
															// Neues Listenelement erstellen
															const exerciseItem = document.createElement("div");
															exerciseItem.className = "exercise-item";
															exerciseItem.dataset.id = selectedID_Übung;
															exerciseItem.innerHTML = `
																<span>${selectedNAME_Übung}</span>
																<div class="parameter-display">
																	<small>
																		<strong>Sätze:</strong> 0, 
																		<strong>Wiederholungen:</strong> 0, 
																		<strong>Pause:</strong> 0 Sek.
																	</small>
																</div>
																<div class="exercise-buttons">
																	<button type="button" class="btn btn-info btn-sm edit-parameters" data-id="${selectedID_Übung}">Parameter bearbeiten</button>
																	<button type="button" class="btn btn-danger btn-sm remove-exercise" data-id="${selectedID_Übung}">Entfernen</button>
																</div>
																<input type="hidden" name="${selectedID_Übung}_name_week${activeWeek}" id="${selectedID_Übung}_name_week${activeWeek}_vorlage_übung" value="${selectedNAME_Übung}">
																<input type="hidden" name="${selectedID_Übung}_sets_week${activeWeek}" id="${selectedID_Übung}_sets_week${activeWeek}_vorlage_übung" value="">
																<input type="hidden" name="${selectedID_Übung}_repetitions_week${activeWeek}" id="${selectedID_Übung}_repetitions_week${activeWeek}_vorlage_übung" value="">
																<input type="hidden" name="${selectedID_Übung}_restTime_week${activeWeek}" id="${selectedID_Übung}_restTime_week${activeWeek}_vorlage_übung" value="">
																<input type="hidden" name="${selectedID_Übung}_notes_week${activeWeek}" id="${selectedID_Übung}_notes_week${activeWeek}_vorlage_übung" value="">
															`;
												
															// Button: Parameter bearbeiten
															exerciseItem.querySelector(".edit-parameters").addEventListener("click", () => {
																currentExerciseItem = exerciseItem; // Halte die aktuelle Übung fest
																openExerciseModal(exerciseItem, activeWeek);
															});
												
															// Button: Entfernen
															exerciseItem.querySelector(".remove-exercise").addEventListener("click", () => {
																exerciseList.removeChild(exerciseItem);
															});
															
															// Modal schließen
															const CloseÜbungsauswahl = document.getElementById('CloseÜbungsauswahl');
															CloseÜbungsauswahl.click();
		
															// Button wieder deaktivieren
															selectButton.disabled = true;
												
															// Übung zur Liste der aktuellen Woche hinzufügen
															exerciseList.appendChild(exerciseItem);
												
														});
												
														// Funktion: Übungseinstellungen bearbeiten
														function openExerciseModal(exerciseItem, week) {
															const name = exerciseItem.querySelector("span").textContent;
															document.getElementById("exerciseParametersLabel").textContent = `Einstellungen für ${name} - Woche ${week}`;
												
															const exerciseId = exerciseItem.dataset.id;
															currentExerciseId = exerciseId;
															document.getElementById("sets").value = document.getElementById(`${exerciseId}_sets_week${week}_vorlage_übung`).value;
															document.getElementById("repetitions").value = document.getElementById(`${exerciseId}_repetitions_week${week}_vorlage_übung`).value;
															document.getElementById("restTime").value = document.getElementById(`${exerciseId}_restTime_week${week}_vorlage_übung`).value;
															document.getElementById("notes").value = document.getElementById(`${exerciseId}_notes_week${week}_vorlage_übung`).value;
												
															settingsModal.show();
														}
												
														// Funktion: Parameter speichern
														saveButton.addEventListener("click", (event) => {
															event.preventDefault();
												
															if (!currentExerciseId) {
																console.error("Keine gültige Übungs-ID gefunden.");
																return;
															}
												
															const sets = document.getElementById("sets").value;
															const repetitions = document.getElementById("repetitions").value;
															const restTime = document.getElementById("restTime").value;
															const notes = document.getElementById("notes").value;
												
															if (!sets || !repetitions || !restTime) {
																alert("Bitte alle Pflichtfelder ausfüllen.");
																return;
															}
												
															// Werte in Hidden Inputs speichern
															document.getElementById(`${currentExerciseId}_sets_week${activeWeek}`).value = sets;
															document.getElementById(`${currentExerciseId}_repetitions_week${activeWeek}`).value = repetitions;
															document.getElementById(`${currentExerciseId}_restTime_week${activeWeek}`).value = restTime;
															document.getElementById(`${currentExerciseId}_notes_week${activeWeek}`).value = notes;
												
															// Anzeige aktualisieren
															const paramDisplay = currentExerciseItem.querySelector(".parameter-display");
															paramDisplay.innerHTML = `
																<small>
																	<strong>Sätze:</strong> ${sets}, 
																	<strong>Wiederholungen:</strong> ${repetitions}, 
																	<strong>Pause:</strong> ${restTime} Sek.
																	${notes ? `<br><strong>Notizen:</strong> ${notes}` : ""}
																</small>
															`;
												
															settingsModal.hide();
														});
													});
												</script>


												<hr>

												<button type="button" class="btn btn-secondary mb-2" data-dismiss="modal">Schließen</button>
												<button type="submit" id="submit-button" class="btn btn-primary">Trainingsplan erstellen & Versenden</button>
											</form>
										</div>
										<div class="tab-pane fade" id="pills-dateiVorlage" role="tabpanel" aria-labelledby="pills-datei-tab">
											<form id="form-datei" action="https://dashboard.{{ WhiteLabel['Domain'] }}/admin/trainingshalle/pläne?art=vorlage_datei" method="POST" enctype="multipart/form-data">
												<div class="form-group mb-3">
													<label for="Name">Name des Trainingsplan</label>
													<input type="text" class="form-control" name="Name" id="Name" placeholder="Trainingsplan für Max">
												</div>


												<div class="form-group mb-3">
													<label for="Datei">Trainingsplan als Datei (Word oder PDF) hochladen:</label>
													<input type="file" class="form-control" name="Datei" id="Datei" accept=".doc,.docx,.pdf">
												</div>


												<hr>
												
												<button type="button" class="btn btn-secondary mb-2" data-dismiss="modal">Schließen</button>
												<button type="submit" id="submit-button" class="btn btn-primary">Trainingsplan-Vorlage erstellen</button>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<style>
						.yellow-dot {
							color: var(--primary-color) !important; /* Die Farbe des Punktes auf Gelb setzen */
							font-size: 1.5em; /* Die Größe des Punktes anpassen, falls nötig */
						}
					</style>

					<script>
						document.addEventListener("DOMContentLoaded", function () {
							const cards = document.querySelectorAll(".trainingshalle .card");
							const exerciseDetails = document.querySelector(".exercise-details");
							const exerciseInfo = exerciseDetails ? exerciseDetails.querySelector(".exercise-info") : null;
							const loadingSpinner = document.getElementById('loading-spinner');

							if (!exerciseInfo) {
								console.error("Element 'exercise-info' nicht gefunden.");
								return;
							}

							const exerciseName = exerciseInfo.querySelector("h4");
							const exerciseVideo = exerciseInfo.querySelector(".exercise-video video");
							const exerciseAudio = exerciseInfo.querySelector(".exercise-audio audio");
							const hintsTab = document.querySelector("#pills-Hinweise");
							const tipsTab = document.querySelector("#pills-Tipps");
							const muscleGroupsTab = document.querySelector("#pills-Muskelgruppen");

							if (!exerciseName || !exerciseVideo || !exerciseAudio || !hintsTab || !tipsTab || !muscleGroupsTab) {
								console.error("Ein oder mehrere Elemente wurden nicht gefunden.");
								return;
							}

							cards.forEach(card => {
								card.addEventListener("click", () => {
									loadingSpinner.classList.remove('d-none');

									const name = card.getAttribute("data-name");
									const tips = card.getAttribute("data-tipps");
									const hints = card.getAttribute("data-hinweise");
									const animation = card.getAttribute("data-animation");
									const muscleGroups = card.getAttribute("data-muskelgruppen");
									const voiceover = card.getAttribute("data-voiceover");

									// Übungsdetails aktualisieren
									exerciseName.innerHTML = '<span class="yellow-dot">•</span> ' + name + ' <span class="yellow-dot">•</span>';
									exerciseVideo.setAttribute("src", 'https://cdn.personalpeak360.de/trainingshalle/' + animation);
									exerciseAudio.querySelector("source").setAttribute("src", 'https://cdn.personalpeak360.de/trainingshalle/' + voiceover);

									// Ladeereignisse hinzufügen
									let videoLoaded = false;
									let audioLoaded = false;

									exerciseVideo.onloadeddata = () => {
										videoLoaded = true;
										checkIfLoaded();
									};

									exerciseAudio.oncanplaythrough = () => {
										audioLoaded = true;
										checkIfLoaded();
									};

									// Funktion zum Überprüfen, ob beide Ressourcen geladen sind
									function checkIfLoaded() {
										if (videoLoaded && audioLoaded) {
											loadingSpinner.classList.add('d-none'); // Spinner ausblenden
										}
									}

									exerciseAudio.load(); // Neue Audio-Datei laden

									// Textinhalte aktualisieren
									hintsTab.textContent = hints;
									tipsTab.textContent = tips;
									muscleGroupsTab.textContent = muscleGroups;

									// Zeige die Übungsdetails an
									exerciseDetails.querySelector("p").classList.add("d-none");
									exerciseInfo.classList.remove("d-none");
								});
							});
						});
					</script>



					<script>
						////////////////////////////////
						// RENDERN DER SUCHERGEBNISSE //
						////////////////////////////////
						
						document.addEventListener('languageChanged', function(e) {
							const { langCode, flagCode } = e.detail;
							console.log(`Die Sprache wurde zu ${langCode} (${flagCode}) geändert!!!`);

							// Hier kannst du deine eigene Funktion aufrufen, die nach der Sprachänderung ausgeführt wird
							performSearch(currentPage);
						});
															
						// RENDERN DER SUCHERGEBNISSE
						document.addEventListener('DOMContentLoaded', function() {
							// Füge den Event-Listener für den Suchbutton und die Enter-Taste hinzu
							const searchButton = document.getElementById('button-suche');
							const searchBar = document.getElementById('search-bar');
							const loadingSpinner = document.getElementById('loading-spinner');
							const loadingSpinnerBackground = document.getElementById('loading-spinnerBackground');
							
							const exerciseDetails = document.querySelector(".exercise-details");
							const exerciseInfo = exerciseDetails ? exerciseDetails.querySelector(".exercise-info") : null;

							if (!exerciseInfo) {
								console.error("Element 'exercise-info' nicht gefunden.");
								return;
							}

							const trainingshalle = document.querySelector('.trainingshalle div');
							const paginationContainer = document.querySelector('.pagination.round-pagination'); // Verweis auf deine Paginierung

							if (!paginationContainer) {
								console.error("Element 'pagination' nicht gefunden.");
								return;
							}

							const exerciseName = exerciseInfo.querySelector("h4");
							const exerciseVideo = exerciseInfo.querySelector(".exercise-video video");
							const exerciseAudio = exerciseInfo.querySelector(".exercise-audio audio");
							const hintsTab = document.querySelector("#pills-Hinweise");
							const tipsTab = document.querySelector("#pills-Tipps");
							const muscleGroupsTab = document.querySelector("#pills-Muskelgruppen");

							if (!exerciseName || !exerciseVideo || !exerciseAudio || !hintsTab || !tipsTab || !muscleGroupsTab) {
								console.error("Ein oder mehrere Elemente wurden nicht gefunden.");
								return;
							}

							let currentPage = 1;
							let totalPages = 1;

							// Funktion zum Ausführen der Suche
							const performSearch = (page = 1) => {
								if (typeof page !== 'number') {
									console.error("Page-Parameter ist keine Zahl:", page);
									return;
								}

								trainingshalle.innerHTML = ''; // Alte Inhalte löschen
								const searchValue = searchBar.value;
								const url = `https://dashboard.personalpeak360.de/trainingshalle/übungen?SUCHE_Name=${encodeURIComponent(searchValue)}&SEITE=${page}`;

								console.log(url)

								// Ladeanimation anzeigen
								loadingSpinner.classList.remove('d-none');
								loadingSpinnerBackground.classList.remove('d-none');

								// Führe die POST-Anfrage aus
								fetch(url, {
									method: 'POST'
								})
								.then(response => response.json())
								.then(data => {
									trainingshalle.innerHTML = ''; // Alte Inhalte löschen
									totalPages = data.Seiten; // Die Zuweisung erfolgt jetzt innerhalb des `then`-Blocks

									if (data.Seiten_Inhalt.length > 0) {
										data.Seiten_Inhalt.forEach(übung => {
											const card = document.createElement('div');
											card.className = 'card bg-dark radius-15 mb-1';
											card.style.cursor = 'pointer';
											card.dataset.id = übung.id;

											const languages = ["DE", "EN", "ES", "AR", "GR", "RU"]; // Verfügbare Sprachen
											// Annahme: "übung.Texte" enthält die Sprachdaten
											languages.forEach(lang => {
												card.dataset[`name_${lang}`] = übung.Texte[lang]?.Name || "";
												card.dataset[`tipps_${lang}`] = übung.Texte[lang]?.Tipps || "";
												card.dataset[`hinweise_${lang}`] = übung.Texte[lang]?.Hinweise || "";
												card.dataset[`voiceover_${lang}`] = übung.Texte[lang]?.Voiceover_ID || "";
											});


											card.dataset.animation = übung.Animation;
											// Prüfe, ob es Muskelgruppen gibt
											if (übung.Muskelgruppen && übung.Muskelgruppen.length > 1) {
												// Erstelle den Text mit "und" vor dem letzten Element
												const muscleGroupsText = übung.Muskelgruppen.slice(0, -1).join(', ') + ' und ' + übung.Muskelgruppen.slice(-1);
												card.dataset.muskelgruppen = muscleGroupsText;
											} else {
												// Wenn nur eine Muskelgruppe vorhanden ist oder keine, direkt verwenden
												card.dataset.muskelgruppen = übung.Muskelgruppen.join(', ');
											}

											const cardBody = document.createElement('div');
											cardBody.className = 'card-body';

											const cardText = document.createElement('p');
											cardText.className = 'card-text text-white';
											cardText.textContent = card.dataset[`name_${selectedLang}`];

											cardBody.appendChild(cardText);
											card.appendChild(cardBody);
											trainingshalle.appendChild(card);

											// Click-Event-Listener für die Karten hinzufügen
											card.addEventListener('click', () => {
												const id = card.getAttribute("data-id");
												const name = card.getAttribute("data-name");
												const tips = card.getAttribute("data-tipps");
												const hints = card.getAttribute("data-hinweise");
												const animation = card.getAttribute("data-animation");
												const muscleGroups = card.getAttribute("data-muskelgruppen");
												const voiceover = card.getAttribute("data-voiceover");

												// Ladeanimation anzeigen
												loadingSpinner.classList.remove("d-none");
												loadingSpinnerBackground.classList.remove("d-none");

												// Übungsdetails aktualisieren
												exerciseName.innerHTML = `<span class="yellow-dot">•</span> ${card.dataset[`name_${selectedLang}`]} <span class="yellow-dot">•</span>`;
												exerciseVideo.setAttribute("src", 'https://cdn.personalpeak360.de/trainingshalle/' + animation);

												// Audio aktualisieren
												exerciseAudio.querySelector("source").setAttribute("src", `https://cdn.personalpeak360.de/trainingshalle/${card.dataset[`voiceover_${selectedLang}`]}`);
												exerciseAudio.load(); // Audio laden

												
												// Textinhalte aktualisieren
												hintsTab.textContent = card.dataset[`hinweise_${selectedLang}`];
												tipsTab.textContent = card.dataset[`tipps_${selectedLang}`];
												muscleGroupsTab.innerHTML = card.dataset.muskelgruppen;

												// Zeige die Übungsdetails an
												exerciseDetails.querySelector("p").classList.add("d-none");
												exerciseInfo.classList.remove("d-none");

												// Warte, bis sowohl Video als auch Audio geladen sind
												let videoLoaded = false;
												let audioLoaded = false;

												// Funktion zum Überprüfen, ob beide Ressourcen geladen sind
												const checkIfLoaded = () => {
													if (videoLoaded && audioLoaded) {
														loadingSpinner.classList.add("d-none");
														loadingSpinnerBackground.classList.add("d-none");
													}
												};

												// Ladeereignis für das Video
												exerciseVideo.onloadeddata = () => {
													videoLoaded = true;
													checkIfLoaded();
												};

												// Ladeereignis für das Audio
												exerciseAudio.oncanplaythrough = () => {
													audioLoaded = true;
													checkIfLoaded();
												};
																				
												// Lese die ID der geklickten Karte aus
												selectedNAME_Übung = card.dataset[`name_${selectedLang}`];
												selectedID_Übung = id;

												console.log(`Übung ausgewählt: ID = ${selectedID_Übung}`);
												console.log(`Übung ausgewählt: Name = ${selectedNAME_Übung}`);

												// Finde den "Auswählen"-Button
												const selectButton = document.getElementById('button-auswählen');
												selectButton.disabled = false;
											});
										});

										// Paginierung aktualisieren
										updatePagination();
										loadingSpinner.classList.add('d-none');
										loadingSpinnerBackground.classList.add('d-none');
									} else {
										loadingSpinner.classList.add('d-none');
										loadingSpinnerBackground.classList.add('d-none');

										const noResults = document.createElement('p');
										noResults.className = 'text-center text-muted';
										noResults.textContent = 'Keine Übungen gefunden.';
										trainingshalle.appendChild(noResults);
									}
								})
								.catch(error => {
									console.error('Fehler bei der Suchanfrage:', error);
								});
							};

							

							const updatePagination = () => {
								paginationContainer.innerHTML = ''; // Alte Paginierung löschen

								const prevPageItem = document.createElement('li');
								prevPageItem.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
								const prevLink = document.createElement('a');
								prevLink.className = 'page-link';
								prevLink.href = 'javascript:;';
								prevLink.textContent = 'Zurück';
								prevLink.addEventListener('click', () => {
									if (currentPage > 1) {
										currentPage--;
										performSearch(currentPage); // Korrekt: Zahl übergeben
									}
								});
								prevPageItem.appendChild(prevLink);
								paginationContainer.appendChild(prevPageItem);

								for (let i = 1; i <= totalPages; i++) {
									const pageItem = document.createElement('li');
									pageItem.className = `page-item ${i === currentPage ? 'active' : ''}`;
									const pageLink = document.createElement('a');
									pageLink.className = 'page-link';
									pageLink.href = 'javascript:;';
									pageLink.textContent = i;
									pageLink.addEventListener('click', () => {
										currentPage = i;
										performSearch(currentPage); // Korrekt: Zahl übergeben
									});
									pageItem.appendChild(pageLink);
									paginationContainer.appendChild(pageItem);
								}

								const nextPageItem = document.createElement('li');
								nextPageItem.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
								const nextLink = document.createElement('a');
								nextLink.className = 'page-link';
								nextLink.href = 'javascript:;';
								nextLink.textContent = 'Weiter';
								nextLink.addEventListener('click', () => {
									if (currentPage < totalPages) {
										currentPage++;
										performSearch(currentPage); // Korrekt: Zahl übergeben
									}
								});
								nextPageItem.appendChild(nextLink);
								paginationContainer.appendChild(nextPageItem);
							};
							
							if (searchButton) {
								searchButton.addEventListener('click', () => performSearch(1));
							}


							if (searchBar) {
								searchBar.addEventListener('keypress', function(event) {
									if (event.key === 'Enter') {
										performSearch(1);
									}
								});
							}

							// Führe die Suche beim Laden der Seite aus
							performSearch(1);
						});
					</script>


					<div class="modal fade" id="addÜbung" tabindex="-1" style="display: none;" aria-hidden="true">
						<div class="modal-dialog modal-fullscreen">
							<div class="modal-content" id="modalContent">
								<div class="modal-header">
									<h5 class="modal-title">Übung zum Fitness-Test hinzufügen</h5>
									<button id="CloseÜbungsauswahl" type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<div class="row">
										<!-- Linke Spalte (kleiner) -->
										<div class="col-md-4 text-left">
											<!-- Kategorien oben -->
											<div class="categories">
												<ul class="nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
													<li class="nav-item" role="presentation">
														<a class="nav-link active" id="pills-Suche-tab" data-bs-toggle="pill" href="#pills-Suche" role="tab" aria-controls="pills-Suche" aria-selected="false">Suche</a>
													</li>
													<li class="nav-item" role="presentation">
														<a class="nav-link" id="pills-Muskeln-tab" data-bs-toggle="pill" href="#pills-Muskeln" role="tab" aria-controls="pills-Muskeln" aria-selected="false">Muskelgruppen</a>
													</li>
													<li class="nav-item" role="presentation">
														<a class="nav-link" id="pills-Krankheitsbilder-tab" data-bs-toggle="pill" href="#pills-Krankheitsbilder" role="tab" aria-controls="pills-Krankheitsbilder" aria-selected="true">Krankheitsbilder</a>
													</li>
												</ul>
							
												<div class="tab-content" id="pills-tabContent">
													<div class="tab-pane fade active show" id="pills-Suche" role="tabpanel" aria-labelledby="pills-Suche-tab">
														<!-- Suchleiste oben -->
														<div class="input-group search-bar mb-3" style="width: 100%;">
															<input type="text" class="form-control" placeholder="Suche nach Übungen..." aria-label="Suche nach Übungen..." id="search-bar" aria-describedby="button-addon2">
															<button class="btn btn-outline-secondary" type="button" id="button-suche">Suchen</button>
														</div>
														<!-- Übungen unten -->
													</div>
							
													<div class="tab-pane fade" id="pills-Muskeln" role="tabpanel" aria-labelledby="pills-Muskeln-tab">
														<style>
															.filter-container {
																display: flex;
																flex-wrap: wrap;
																gap: 10px;
																margin-bottom: 20px;
															}
		
															.filter-pill {
																padding: 8px 16px;
																border: none;
																border-radius: 20px;
																background-color: #f1f1f1;
																color: #333;
																cursor: pointer;
																transition: background-color 0.3s;
															}
		
															.filter-pill:hover {
																background-color: #ddd;
															}
		
															.filter-pill.active {
																background-color: var(--primary-color);
																color: #fff;
															}
														</style>
														<script>
															// Globales Set, um die ausgewählten Muskelgruppen zu speichern
															const selectedMuscleGroups = new Set();
															let currentPage = 1;
															let totalPages = 1;
															document.addEventListener('DOMContentLoaded', () => {
																// Füge den Event-Listener für den Suchbutton und die Enter-Taste hinzu
																const searchButton = document.getElementById('button-suche');
																const searchBar = document.getElementById('search-bar');
		
																
																const exerciseDetails = document.querySelector(".exercise-details");
																const exerciseInfo = exerciseDetails ? exerciseDetails.querySelector(".exercise-info") : null;
																const exerciseName = exerciseInfo.querySelector("h4");
																const exerciseVideo = exerciseInfo.querySelector(".exercise-video video");
																const exerciseAudio = exerciseInfo.querySelector(".exercise-audio audio");
																const hintsTab = document.querySelector("#pills-Hinweise");
																const tipsTab = document.querySelector("#pills-Tipps");
																const muscleGroupsTab = document.querySelector("#pills-Muskelgruppen");
		
																if (!exerciseInfo) {
																	console.error("Element 'exercise-info' nicht gefunden.");
																	return;
																}
		
																const trainingshalle = document.querySelector('.trainingshalle div');
																const paginationContainer = document.querySelector('.pagination.round-pagination'); // Verweis auf deine Paginierung
		
																if (!paginationContainer) {
																	console.error("Element 'pagination' nicht gefunden.");
																	return;
																}
																
		
																if (!exerciseName || !exerciseVideo || !exerciseAudio || !hintsTab || !tipsTab || !muscleGroupsTab) {
																	console.error("Ein oder mehrere Elemente wurden nicht gefunden.");
																	return;
																}
		
		
																// Füge Event-Listener zu allen Pills hinzu
																document.querySelectorAll('.filter-pill').forEach(button => {
																button.addEventListener('click', function() {
																	// Toggle der aktiven Klasse und des Sets
																	if (this.classList.contains('active')) {
																	this.classList.remove('active');
																	selectedMuscleGroups.delete(this.dataset.value);
																	} else {
																	this.classList.add('active');
																	selectedMuscleGroups.add(this.dataset.value);
																	}
															
																	// Debug-Ausgabe
																	console.log("Aktuell ausgewählte Muskelgruppen:", Array.from(selectedMuscleGroups));
																	
																	// Suche ausführen
																	performSearch();
																});
																});
															});
															
															// Funktion zum Ausführen der Suche
															const performSearch = (page = 1) => {
																const trainingshalle = document.querySelector('.trainingshalle div');
																trainingshalle.innerHTML = ''; // Alte Inhalte löschen
																// Elemente mit den IDs `loading-spinner` und `loading-spinnerBackground` definieren
																const loadingSpinner = document.getElementById('loading-spinner');
																const loadingSpinnerBackground = document.getElementById('loading-spinnerBackground');
																const paginationContainer = document.querySelector('.pagination.round-pagination'); // Verweis auf deine Paginierung
		
																if (typeof page !== 'number') {
																console.error("Page-Parameter ist keine Zahl:", page);
																return;
																}
															
																const muscleGroupsArray = Array.from(selectedMuscleGroups);
																const searchValue = muscleGroupsArray.join(',');
															
																const url = `https://dashboard.personalpeak360.de/trainingshalle/übungen?SUCHE_Muskelgruppe=${encodeURIComponent(searchValue)}&SEITE=${page}`;
															
																console.log("Such-URL:", url);
															
																// Ladeanimation anzeigen
																loadingSpinner.classList.remove('d-none');
																loadingSpinnerBackground.classList.remove('d-none');
															
																// Führe die POST-Anfrage aus
																fetch(url, {
																method: 'POST'
																})
																.then(response => response.json())
																.then(data => {
																trainingshalle.innerHTML = ''; // Alte Inhalte löschen
															
																if (data.Seiten_Inhalt && data.Seiten_Inhalt.length > 0) {
																	data.Seiten_Inhalt.forEach(übung => {
																	// Karten generieren (siehe ursprünglicher Code)
																	const card = document.createElement('div');
																	card.className = 'card bg-dark radius-15 mb-1';
																	card.style.cursor = 'pointer';
																	card.dataset.id = übung.id;
																	
																	const languages = ["DE", "EN", "ES", "AR", "GR", "RU"]; // Verfügbare Sprachen
																	// Annahme: "übung.Texte" enthält die Sprachdaten
																	languages.forEach(lang => {
																		card.dataset[`name_${lang}`] = übung.Texte[lang]?.Name || "";
																		card.dataset[`tipps_${lang}`] = übung.Texte[lang]?.Tipps || "";
																		card.dataset[`hinweise_${lang}`] = übung.Texte[lang]?.Hinweise || "";
																		card.dataset[`voiceover_${lang}`] = übung.Texte[lang]?.Voiceover_ID || "";
																	});


																	card.dataset.animation = übung.Animation;
																	// Prüfe, ob es Muskelgruppen gibt
																	if (übung.Muskelgruppen && übung.Muskelgruppen.length > 1) {
																		// Erstelle den Text mit "und" vor dem letzten Element
																		const muscleGroupsText = übung.Muskelgruppen.slice(0, -1).join(', ') + ' und ' + übung.Muskelgruppen.slice(-1);
																		card.dataset.muskelgruppen = muscleGroupsText;
																	} else {
																		// Wenn nur eine Muskelgruppe vorhanden ist oder keine, direkt verwenden
																		card.dataset.muskelgruppen = übung.Muskelgruppen.join(', ');
																	}

																	const cardBody = document.createElement('div');
																	cardBody.className = 'card-body';

																	const cardText = document.createElement('p');
																	cardText.className = 'card-text text-white';
																	cardText.textContent = card.dataset[`name_${selectedLang}`];

															
																	cardBody.appendChild(cardText);
																	card.appendChild(cardBody);
																	trainingshalle.appendChild(card);
															
																	
																	// Click-Event-Listener für die Karten hinzufügen
																	card.addEventListener('click', () => {
																		const exerciseDetails = document.querySelector(".exercise-details");
																		const exerciseInfo = exerciseDetails ? exerciseDetails.querySelector(".exercise-info") : null;
																		const exerciseName = exerciseInfo.querySelector("h4");
																		const exerciseVideo = exerciseInfo.querySelector(".exercise-video video");
																		const exerciseAudio = exerciseInfo.querySelector(".exercise-audio audio");
																		const hintsTab = document.querySelector("#pills-Hinweise");
																		const tipsTab = document.querySelector("#pills-Tipps");
																		const muscleGroupsTab = document.querySelector("#pills-Muskelgruppen");
		
																		const id = card.getAttribute("data-id");
																		const name = card.getAttribute("data-name");
																		const tips = card.getAttribute("data-tipps");
																		const hints = card.getAttribute("data-hinweise");
																		const animation = card.getAttribute("data-animation");
																		const muscleGroups = card.getAttribute("data-muskelgruppen");
																		const voiceover = card.getAttribute("data-voiceover");
		
																		// Ladeanimation anzeigen
																		loadingSpinner.classList.remove("d-none");
																		loadingSpinnerBackground.classList.remove("d-none");
		
																		// Übungsdetails aktualisieren
																		exerciseName.innerHTML = `<span class="yellow-dot">•</span> ${card.dataset[`name_${selectedLang}`]} <span class="yellow-dot">•</span>`;
																		exerciseVideo.setAttribute("src", 'https://cdn.personalpeak360.de/trainingshalle/' + animation);

																		// Audio aktualisieren
																		exerciseAudio.querySelector("source").setAttribute("src", `https://cdn.personalpeak360.de/trainingshalle/${card.dataset[`voiceover_${selectedLang}`]}`);
																		exerciseAudio.load(); // Audio laden

																		
																		// Textinhalte aktualisieren
																		hintsTab.textContent = card.dataset[`hinweise_${selectedLang}`];
																		tipsTab.textContent = card.dataset[`tipps_${selectedLang}`];
																		muscleGroupsTab.innerHTML = card.dataset.muskelgruppen;

		
																		// Zeige die Übungsdetails an
																		exerciseDetails.querySelector("p").classList.add("d-none");
																		exerciseInfo.classList.remove("d-none");
		
																		// Warte, bis sowohl Video als auch Audio geladen sind
																		let videoLoaded = false;
																		let audioLoaded = false;
		
																		// Funktion zum Überprüfen, ob beide Ressourcen geladen sind
																		const checkIfLoaded = () => {
																			if (videoLoaded && audioLoaded) {
																				loadingSpinner.classList.add("d-none");
																				loadingSpinnerBackground.classList.add("d-none");
																			}
																		};
		
																		// Ladeereignis für das Video
																		exerciseVideo.onloadeddata = () => {
																			videoLoaded = true;
																			checkIfLoaded();
																		};
		
																		// Ladeereignis für das Audio
																		exerciseAudio.oncanplaythrough = () => {
																			audioLoaded = true;
																			checkIfLoaded();
																		};
																				
																		// Lese die ID der geklickten Karte aus
																		selectedNAME_Übung = card.dataset[`name_${selectedLang}`];
																		selectedID_Übung = id;

																		console.log(`Übung ausgewählt: ID = ${selectedID_Übung}`);
																		console.log(`Übung ausgewählt: Name = ${selectedNAME_Übung}`);

																		// Finde den "Auswählen"-Button
																		const selectButton = document.getElementById('button-auswählen');
																		selectButton.disabled = false;
																	});
																	});
															
																	updatePagination(); // Paginierung aktualisieren
																	loadingSpinner.classList.add('d-none');
																	loadingSpinnerBackground.classList.add('d-none');
																} else {
																	// Keine Ergebnisse gefunden
																	loadingSpinner.classList.add('d-none');
																	loadingSpinnerBackground.classList.add('d-none');
															
																	const noResults = document.createElement('p');
																	noResults.className = 'text-center text-muted';
																	noResults.textContent = 'Keine Übungen gefunden.';
																	trainingshalle.appendChild(noResults);
																}
																})
																.catch(error => {
																console.error('Fehler bei der Suchanfrage:', error);
																});
															};
		
															const updatePagination = () => {
																const paginationContainer = document.querySelector('.pagination.round-pagination'); // Verweis auf deine Paginierung
																paginationContainer.innerHTML = ''; // Alte Paginierung löschen
		
																const prevPageItem = document.createElement('li');
																prevPageItem.className = `page-item ${currentPage_Gesundheitsproblem === 1 ? 'disabled' : ''}`;
																const prevLink = document.createElement('a');
																prevLink.className = 'page-link';
																prevLink.href = 'javascript:;';
																prevLink.textContent = 'Zurück';
																prevLink.addEventListener('click', () => {
																	if (currentPage_Gesundheitsproblem > 1) {
																		currentPage_Gesundheitsproblem--;
																		performSearch(currentPage_Gesundheitsproblem); // Korrekt: Zahl übergeben
																	}
																});
																prevPageItem.appendChild(prevLink);
																paginationContainer.appendChild(prevPageItem);
		
																for (let i = 1; i <= totalPages; i++) {
																	const pageItem = document.createElement('li');
																	pageItem.className = `page-item ${i === currentPage ? 'active' : ''}`;
																	const pageLink = document.createElement('a');
																	pageLink.className = 'page-link';
																	pageLink.href = 'javascript:;';
																	pageLink.textContent = i;
																	pageLink.addEventListener('click', () => {
																		currentPage_Gesundheitsproblem = i;
																		performSearch(currentPage_Gesundheitsproblem); // Korrekt: Zahl übergeben
																	});
																	pageItem.appendChild(pageLink);
																	paginationContainer.appendChild(pageItem);
																}
		
																const nextPageItem = document.createElement('li');
																nextPageItem.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
																const nextLink = document.createElement('a');
																nextLink.className = 'page-link';
																nextLink.href = 'javascript:;';
																nextLink.textContent = 'Weiter';
																nextLink.addEventListener('click', () => {
																	if (currentPage_Gesundheitsproblem < totalPages) {
																		currentPage_Gesundheitsproblem++;
																		performSearch(currentPage_Gesundheitsproblem); // Korrekt: Zahl übergeben
																	}
																});
																nextPageItem.appendChild(nextLink);
																paginationContainer.appendChild(nextPageItem);
															};
														</script>
														
														<!-- <div id="selected-filter mb-2">Bitte eine Option auswählen</div>
														<br> -->
														<div class="filter-container">
															<button class="filter-pill" data-value="Brust">Brust</button>
															<button class="filter-pill" data-value="Rücken">Rücken</button>
															<button class="filter-pill" data-value="Schultern">Schultern</button>
															<button class="filter-pill" data-value="Beine">Beine</button>
															<button class="filter-pill" data-value="Arme">Arme</button>
															<button class="filter-pill" data-value="Bauchmuskeln">Bauchmuskeln</button>
															<button class="filter-pill" data-value="Waden">Waden</button>
															<button class="filter-pill" data-value="Unterarme">Unterarme</button>
															<button class="filter-pill" data-value="Trapezmuskeln">Trapezmuskeln</button>
															<button class="filter-pill" data-value="Gesäßmuskeln">Gesäßmuskeln</button>
															<button class="filter-pill" data-value="Beinbizeps">Beinbizeps</button>
															<button class="filter-pill" data-value="Beinstrecker">Beinstrecker</button>
															<button class="filter-pill" data-value="Latissimus">Latissimus</button>
															<button class="filter-pill" data-value="Trizeps">Trizeps</button>
															<button class="filter-pill" data-value="Bizeps">Bizeps</button>
															<button class="filter-pill" data-value="Schulterdeltamuskeln">Schulterdeltamuskeln</button>
															<button class="filter-pill" data-value="Schräge Bauchmuskeln">Schräge Bauchmuskeln</button>
															<button class="filter-pill" data-value="Hüftbeuger">Hüftbeuger</button>
															<button class="filter-pill" data-value="Rumpf">Rumpf</button>
														  </div>
														  
													</div>
							
													<div class="tab-pane fade" id="pills-Krankheitsbilder" role="tabpanel" aria-labelledby="pills-Krankheitsbilder-tab">
														<script>
															// Globales Set, um die ausgewählten Muskelgruppen zu speichern
															const selectedMuscleGroups_Gesundheitsproblem = new Set();
															let currentPage_Gesundheitsproblem = 1;
															let totalPages_Gesundheitsproblem = 1;
														
															document.addEventListener('DOMContentLoaded', () => {
																// Füge den Event-Listener für den Suchbutton und die Enter-Taste hinzu
																const searchButton = document.getElementById('button-suche');
																const searchBar = document.getElementById('search-bar');
														
																const exerciseDetails = document.querySelector(".exercise-details");
																const exerciseInfo = exerciseDetails ? exerciseDetails.querySelector(".exercise-info") : null;
																const exerciseName = exerciseInfo.querySelector("h4");
																const exerciseVideo = exerciseInfo.querySelector(".exercise-video video");
																const exerciseAudio = exerciseInfo.querySelector(".exercise-audio audio");
																const hintsTab = document.querySelector("#pills-Hinweise");
																const tipsTab = document.querySelector("#pills-Tipps");
																const muscleGroupsTab = document.querySelector("#pills-Muskelgruppen");
														
																if (!exerciseInfo) {
																	console.error("Element 'exercise-info' nicht gefunden.");
																	return;
																}
														
																const trainingshalle = document.querySelector('.trainingshalle div');
																const paginationContainer = document.querySelector('.pagination.round-pagination'); // Verweis auf deine Paginierung
														
																if (!paginationContainer) {
																	console.error("Element 'pagination' nicht gefunden.");
																	return;
																}
														
																if (!exerciseName || !exerciseVideo || !exerciseAudio || !hintsTab || !tipsTab || !muscleGroupsTab) {
																	console.error("Ein oder mehrere Elemente wurden nicht gefunden.");
																	return;
																}
														
																// Event-Listener für das Auswahlmenü für Gesundheitsprobleme hinzufügen
																const gesundheitsproblemSelect = document.getElementById('Gesundheitsproblem');
																gesundheitsproblemSelect.addEventListener('change', () => {
																	const selectedHealthProblem = gesundheitsproblemSelect.value;
																	performSearch_Gesundheitsproblem(currentPage_Gesundheitsproblem, selectedHealthProblem);
																});
															});
														
															// Funktion zum Ausführen der Suche
															const performSearch_Gesundheitsproblem = (page = 1, healthProblem = 'Alles') => {
																const trainingshalle = document.querySelector('.trainingshalle div');
																trainingshalle.innerHTML = ''; // Alte Inhalte löschen
																// Elemente mit den IDs `loading-spinner` und `loading-spinnerBackground` definieren
																const loadingSpinner = document.getElementById('loading-spinner');
																const loadingSpinnerBackground = document.getElementById('loading-spinnerBackground');
														
																if (typeof page !== 'number') {
																	console.error("Page-Parameter ist keine Zahl:", page);
																	return;
																}
														
																const muscleGroupsArray = Array.from(selectedMuscleGroups);
																const searchValue = muscleGroupsArray.join(',');
														
																const url = `https://dashboard.personalpeak360.de/trainingshalle/übungen?SUCHE_Gesundheitsproblem=${encodeURIComponent(healthProblem)}&SEITE=${page}`;
														
																console.log("Such-URL:", url);
														
																// Ladeanimation anzeigen
																loadingSpinner.classList.remove('d-none');
																loadingSpinnerBackground.classList.remove('d-none');
														
																// Führe die POST-Anfrage aus
																fetch(url, {
																	method: 'POST'
																})
																.then(response => response.json())
																.then(data => {
																	trainingshalle.innerHTML = ''; // Alte Inhalte löschen
														
																	if (data.Seiten_Inhalt && data.Seiten_Inhalt.length > 0) {
																		data.Seiten_Inhalt.forEach(übung => {
																			// Karten generieren (siehe ursprünglicher Code)
																			const card = document.createElement('div');
																			card.className = 'card bg-dark radius-15 mb-1';
																			card.style.cursor = 'pointer';
																			card.dataset.id = übung.id;

																			const languages = ["DE", "EN", "ES", "AR", "GR", "RU"]; // Verfügbare Sprachen
																			// Annahme: "übung.Texte" enthält die Sprachdaten
																			languages.forEach(lang => {
																				card.dataset[`name_${lang}`] = übung.Texte[lang]?.Name || "";
																				card.dataset[`tipps_${lang}`] = übung.Texte[lang]?.Tipps || "";
																				card.dataset[`hinweise_${lang}`] = übung.Texte[lang]?.Hinweise || "";
																				card.dataset[`voiceover_${lang}`] = übung.Texte[lang]?.Voiceover_ID || "";
																			});


																			card.dataset.animation = übung.Animation;
																			// Prüfe, ob es Muskelgruppen gibt
																			if (übung.Muskelgruppen && übung.Muskelgruppen.length > 1) {
																				// Erstelle den Text mit "und" vor dem letzten Element
																				const muscleGroupsText = übung.Muskelgruppen.slice(0, -1).join(', ') + ' und ' + übung.Muskelgruppen.slice(-1);
																				card.dataset.muskelgruppen = muscleGroupsText;
																			} else {
																				// Wenn nur eine Muskelgruppe vorhanden ist oder keine, direkt verwenden
																				card.dataset.muskelgruppen = übung.Muskelgruppen.join(', ');
																			}

																			const cardBody = document.createElement('div');
																			cardBody.className = 'card-body';

																			const cardText = document.createElement('p');
																			cardText.className = 'card-text text-white';
																			cardText.textContent = card.dataset[`name_${selectedLang}`];

														
																			cardBody.appendChild(cardText);
																			card.appendChild(cardBody);
																			trainingshalle.appendChild(card);

																			// Modal-Referenz
																			const modal = document.getElementById('exampleFullScreenModal');
																			const modalContent = document.getElementById('modalContent');

																			// Beispiel: Wenn Modal geöffnet wird, füge den Button hinzu
																			modal.addEventListener('show.bs.modal', () => {
																				// Alte Buttons löschen, um Duplikate zu vermeiden
																				modalContent.innerHTML = '';
																			});
														
																			// Click-Event-Listener für die Karten hinzufügen
																			card.addEventListener('click', () => {
																				const exerciseDetails = document.querySelector(".exercise-details");
																				const exerciseInfo = exerciseDetails ? exerciseDetails.querySelector(".exercise-info") : null;
																				const exerciseName = exerciseInfo.querySelector("h4");
																				const exerciseVideo = exerciseInfo.querySelector(".exercise-video video");
																				const exerciseAudio = exerciseInfo.querySelector(".exercise-audio audio");
																				const hintsTab = document.querySelector("#pills-Hinweise");
																				const tipsTab = document.querySelector("#pills-Tipps");
																				const muscleGroupsTab = document.querySelector("#pills-Muskelgruppen");
														
																				const id = card.getAttribute("data-id");
																				const name = card.getAttribute("data-name");
																				const tips = card.getAttribute("data-tipps");
																				const hints = card.getAttribute("data-hinweise");
																				const animation = card.getAttribute("data-animation");
																				const muscleGroups = card.getAttribute("data-muskelgruppen");
																				const voiceover = card.getAttribute("data-voiceover");
														
																				// Ladeanimation anzeigen
																				loadingSpinner.classList.remove("d-none");
																				loadingSpinnerBackground.classList.remove("d-none");
														
																				/// Übungsdetails aktualisieren
																				exerciseName.innerHTML = `<span class="yellow-dot">•</span> ${card.dataset[`name_${selectedLang}`]} <span class="yellow-dot">•</span>`;
																				exerciseVideo.setAttribute("src", 'https://cdn.personalpeak360.de/trainingshalle/' + animation);

																				// Audio aktualisieren
																				exerciseAudio.querySelector("source").setAttribute("src", `https://cdn.personalpeak360.de/trainingshalle/${card.dataset[`voiceover_${selectedLang}`]}`);
																				exerciseAudio.load(); // Audio laden

																				
																				// Textinhalte aktualisieren
																				hintsTab.textContent = card.dataset[`hinweise_${selectedLang}`];
																				tipsTab.textContent = card.dataset[`tipps_${selectedLang}`];
																				muscleGroupsTab.innerHTML = card.dataset.muskelgruppen;
														

																				// Zeige die Übungsdetails an
																				exerciseDetails.querySelector("p").classList.add("d-none");
																				exerciseInfo.classList.remove("d-none");
														
																				// Warte, bis sowohl Video als auch Audio geladen sind
																				let videoLoaded = false;
																				let audioLoaded = false;
														
																				// Funktion zum Überprüfen, ob beide Ressourcen geladen sind
																				const checkIfLoaded = () => {
																					if (videoLoaded && audioLoaded) {
																						loadingSpinner.classList.add("d-none");
																						loadingSpinnerBackground.classList.add("d-none");
																					}
																				};
														
																				// Ladeereignis für das Video
																				exerciseVideo.onloadeddata = () => {
																					videoLoaded = true;
																					checkIfLoaded();
																				};
														
																				// Ladeereignis für das Audio
																				exerciseAudio.oncanplaythrough = () => {
																					audioLoaded = true;
																					checkIfLoaded();
																				};
																				
																				// Lese die ID der geklickten Karte aus
																				selectedNAME_Übung = card.dataset[`name_${selectedLang}`];
																				selectedID_Übung = id;

																				console.log(`Übung ausgewählt: ID = ${selectedID_Übung}`);
																				console.log(`Übung ausgewählt: Name = ${selectedNAME_Übung}`);

																				// Finde den "Auswählen"-Button
																				const selectButton = document.getElementById('button-auswählen');
																				selectButton.disabled = false;
																			});
																		});
														
																		updatePagination_Gesundheitsproblem(); // Paginierung aktualisieren
																		loadingSpinner.classList.add('d-none');
																		loadingSpinnerBackground.classList.add('d-none');
																	} else {
																		// Keine Ergebnisse gefunden
																		loadingSpinner.classList.add('d-none');
																		loadingSpinnerBackground.classList.add('d-none');
														
																		const noResults = document.createElement('p');
																		noResults.className = 'text-center text-muted';
																		noResults.textContent = 'Keine Übungen gefunden.';
																		trainingshalle.appendChild(noResults);
																	}
																})
																.catch(error => {
																	console.error('Fehler bei der Suchanfrage:', error);
																});
															};
														
															const updatePagination_Gesundheitsproblem = () => {
																const paginationContainer = document.querySelector('.pagination.round-pagination');
																paginationContainer.innerHTML = '';
														
																const prevPageItem = document.createElement('li');
																prevPageItem.className = `page-item ${currentPage_Gesundheitsproblem === 1 ? 'disabled' : ''}`;
																const prevLink = document.createElement('a');
																prevLink.className = 'page-link';
																prevLink.href = 'javascript:;';
																prevLink.textContent = 'Zurück';
																prevLink.addEventListener('click', () => {
																	if (currentPage_Gesundheitsproblem > 1) {
																		currentPage_Gesundheitsproblem--;
																		performSearch_Gesundheitsproblem(currentPage_Gesundheitsproblem); // Korrekt: Zahl übergeben
																	}
																});
																prevPageItem.appendChild(prevLink);
																paginationContainer.appendChild(prevPageItem);
														
																for (let i = 1; i <= totalPages; i++) {
																	const pageItem = document.createElement('li');
																	pageItem.className = `page-item ${i === currentPage_Gesundheitsproblem ? 'active' : ''}`;
																	const pageLink = document.createElement('a');
																	pageLink.className = 'page-link';
																	pageLink.href = 'javascript:;';
																	pageLink.textContent = i;
																	pageLink.addEventListener('click', () => {
																		currentPage_Gesundheitsproblem = i;
																		performSearch_Gesundheitsproblem(currentPage_Gesundheitsproblem); // Korrekt: Zahl übergeben
																	});
																	pageItem.appendChild(pageLink);
																	paginationContainer.appendChild(pageItem);
																}
														
																const nextPageItem = document.createElement('li');
																nextPageItem.className = `page-item ${currentPage_Gesundheitsproblem === totalPages ? 'disabled' : ''}`;
																const nextLink = document.createElement('a');
																nextLink.className = 'page-link';
																nextLink.href = 'javascript:;';
																nextLink.textContent = 'Weiter';
																nextLink.addEventListener('click', () => {
																	if (currentPage_Gesundheitsproblem < totalPages) {
																		currentPage_Gesundheitsproblem++;
																		performSearch_Gesundheitsproblem(currentPage_Gesundheitsproblem); // Korrekt: Zahl übergeben
																	}
																});
																nextPageItem.appendChild(nextLink);
																paginationContainer.appendChild(nextPageItem);
															};
														</script>
		
		
														<select class="form-control" id="Gesundheitsproblem" name="Gesundheitsproblem">
															<option selected value="Alles">Alle anzeigen</option>
															<option value="Rückenschmerzen">Rückenschmerzen</option>
															<option value="Schulterschmerzen">Schulterschmerzen</option>
															<option value="Nackenschmerzen">Nackenschmerzen</option>
															<option value="Hüftschmerzen">Hüftschmerzen</option>
															<option value="Knieschmerzen">Knieschmerzen</option>
															<option value="Fuß&Knöchelschmerzen">Fuß & Knöchelschmerzen</option>
															<option value="Schreibtisch-Athlet">Schreibtisch-Athlet</option>
															<option value="Rehasport_Basis">Rehasport Basis</option>
														</select>
													</div>
												</div>
											</div>
							
											<!-- Übungen für Trainingshalle -->
											<div class="trainingshalle mt-3">
												<div style="max-height: 340px; overflow-y: scroll;">
													{% for übung in Übungen %}
														<div class="card bg-dark radius-15 mb-1" style="cursor: pointer;" data-name="{{ übung['Name'] }}" data-tipps="{{ übung['Tipps'] }}" data-hinweise="{{ übung['Hinweise'] }}" data-animation="{{ übung['Animation'] }}" data-voiceover="{{ übung['Voiceover'] }}" data-muskelgruppen="{% for muskel in übung['Muskelgruppen'] %}{{ muskel }}{% if not loop.last %}{% if loop.index == loop.length - 1 %} und {% else %}, {% endif %}{% endif %}{% endfor %}" data-suchbegriffe="{{ übung['Suchbegriffe'] }}">
															<div class="card-body">
																<p class="card-text text-white">{{ übung['Name'] }}</p>
															</div>
														</div>
													{% endfor %}
												</div>
												<br>
		
												<!-- Ladeanimation als Overlay -->
												<div id="loading-spinner" class="loading-overlay d-none text-center">
													<div class="spinner-wrapper">
														<div class="spinner-border text-primary" role="status"></div>
														<p class="loading-text text-white">Bitte warten...</p>
													</div>
												</div>
												<div id="loading-spinnerBackground" class="d-none mb-3">
													<!-- Hier kann eine beliebige Ladeanimation sein, z.B. ein Spinner -->
													<div class="spinner-border text-primary" role="status">
														<span class="sr-only"></span>
													</div>
												</div>
		
												<style>
													/* Ladeoverlay für den gesamten Bildschirm */
													.loading-overlay {
														position: fixed;
														top: 0;
														left: 0;
														width: 100%;
														height: 100%;
														background-color: rgba(0, 0, 0, 0.6); /* Halbtransparenter schwarzer Hintergrund */
														display: flex;
														justify-content: center;
														align-items: center;
														z-index: 1000; /* Über alle anderen Elemente legen */
													}
		
													.spinner-border {
														color: var(--primary-color) !important; /* Farbe des Spinners */
													}
		
													/* Wrapper für den Spinner und den Text */
													.spinner-wrapper {
														display: flex;
														flex-direction: column;
														align-items: center;
														animation: fadeIn 0.5s ease-in-out; /* Sanfte Einblendanimation */
													}
		
													/* Ladeanimationstext */
													.loading-text {
														  color: var(--primary-color) !important; /* Farbe des Textes */
														margin-top: 15px;
														font-size: 1.2rem;
														animation: pulse 1s infinite; /* Pulsierende Animation */
													}
		
													/* Animationen */
													@keyframes fadeIn {
														from {
															opacity: 0;
														}
														to {
															opacity: 1;
														}
													}
		
													@keyframes pulse {
														0%, 100% {
															opacity: 1;
														}
														50% {
															opacity: 0.5;
														}
													}
												</style>
												
		
												<!-- Übungen hier aufführen -->
												<nav aria-label="Page navigation example" class="d-flex justify-content-center align-items-center">
													<ul class="pagination round-pagination">
														<li class="page-item"><a class="page-link" href="javascript:;">Zurück</a></li>
														<li class="page-item"><a class="page-link" href="javascript:;">1</a></li>
														<li class="page-item active"><a class="page-link" href="javascript:;">2</a></li>
														<li class="page-item"><a class="page-link" href="javascript:;">3</a></li>
														<li class="page-item"><a class="page-link" href="javascript:;">Weiter</a></li>
													</ul>
												</nav>
											</div>
										</div>
							
										<!-- Rechte Spalte (größer) -->
										<div class="col-md-8 d-flex justify-content-center align-items-center">
											<div class="exercise-details text-center">
												<p>Bitte wähle eine Übung von links aus, um deren Details zu sehen.</p>
												<!-- Details zur Übung -->
												<div class="exercise-info d-none">
													<h4>Übungsname</h4>
													<div class="exercise-video">
														<video class="w-100" autoplay loop muted controlsList="nodownload">
															<source type="video/mp4">
															Dein Browser unterstützt das Video-Element nicht.
														</video>
													</div>
													<br>
													<div class="exercise-audio">
														<audio class="w-100" controls controlsList="nodownload">
															<source type="audio/mp3">
															Dein Browser unterstützt das Video-Element nicht.
														</audio>
													</div>
		
													<style>
														.exercise-video {
															border-radius: 40px; /* Oder ein anderer Wert */
															overflow: hidden; /* Um sicherzustellen, dass das Video nicht über die Ecken hinausragt */
														}
													</style>
		
													<br>
													
													<ul class="nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
														<li class="nav-item" role="presentation">
															<a class="nav-link active" id="pills-Hinweise-tab" data-bs-toggle="pill" href="#pills-Hinweise" role="tab" aria-controls="pills-Hinweise" aria-selected="false">Hinweise</a>
														</li>
														<li class="nav-item" role="presentation">
															<a class="nav-link" id="pills-Tipps-tab" data-bs-toggle="pill" href="#pills-Tipps" role="tab" aria-controls="pills-Tipps" aria-selected="false">Tipps</a>
														</li>
														<li class="nav-item" role="presentation">
															<a class="nav-link" id="pills-Muskelgruppen-tab" data-bs-toggle="pill" href="#pills-Muskelgruppen" role="tab" aria-controls="pills-Muskelgruppen" aria-selected="false">Muskelgruppen</a>
														</li>
													</ul>
								
													<div class="tab-content" id="pills-tabContent">
														<div class="tab-pane fade active show" id="pills-Hinweise" role="tabpanel" aria-labelledby="pills-Hinweise-tab">
															<p>Inhalt von "data-hinweise"</p>
														</div>
														<div class="tab-pane fade" id="pills-Tipps" role="tabpanel" aria-labelledby="pills-Tipps-tab">
															<p>Inhalt von "data-hinweise"</p>
														</div>
														<div class="tab-pane fade" id="pills-Muskelgruppen" role="tabpanel" aria-labelledby="pills-Muskelgruppen-tab">
															<p>Inhalt von "data-muskelgruppen"</p>
														</div>
													</div>
													<!-- Weitere Details zur Übung -->
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Schließen</button>
									<button type="button" id="button-auswählen" class="btn btn-primary" disabled>Auswählen</button>
								</div>
							</div>
						</div>
					</div>
					


                    <div class="card radius-15">
                        <div class="card-body">
                            <div class="card-title">
                                <h4 class="mb-0">Trainingspläne</h4>
                                <h6 class="mb-0">Auf dieser Seite kannst Du Deinen Kunden stets Trainingspläne erstellen und sofort zur Verfügung stellen.</h6>
                            </div>
							<hr/>
							<button type="button" class="btn btn-primary me-2" data-toggle="modal" data-target="#createTrainingsplan">
								Trainingsplan erstellen
							</button>
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createTrainingsplan_Vorlage">
								Trainingsplan-Vorlage erstellen
							</button>
                        </div>
                    </div>

					
                    <div class="card radius-15 mb-3">
                        <div class="card-body">
							<div class="card-title">
								<h5 class="mb-0">Anfragen</h5>
							</div>

							<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
								<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-AKTIV-tab" data-bs-toggle="pill" href="#pills-AKTIV" role="tab" aria-controls="pills-AKTIV" aria-selected="true">Aktive Anfragen</a>
								</li>
								<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-INAKTIV-tab" data-bs-toggle="pill" href="#pills-INAKTIV" role="tab" aria-controls="pills-INAKTIV" aria-selected="false">Inaktive / Erledigte Anfragen</a>
								</li>
							</ul>

							<div class="tab-content" id="pills-tabContent">
								<div class="tab-pane fade active show" id="pills-AKTIV" role="tabpanel" aria-labelledby="pills-AKTIV-tab">
									<div class="row">
										<div class="table-responsive">
											<table id="example" class="table table-striped table-bordered" style="width:100%">
												<thead>
													<tr>
														<th>Kunde</th>
														<th>Datum</th>
														<th>Aktionen</th>
													</tr>
												</thead>
												<tbody>
													{% for Anfrage in Trainingsplan_Anfragen %}
														{% if Anfrage['Status'] == "Warten" %}
															<tr>
																<td>{{ Anfrage['Kunden_Details']['Vorname'] }} {{ Anfrage['Kunden_Details']['Nachname'] }}</td>
																<td>{{ Anfrage['date_created']|format_datetime("%Y-%m-%dT%H:%M:%S.%fZ", "%d.%m.%Y um %H:%M Uhr") }}</td>
																<td>
																	<button class="btn btn-info btn-sm" data-toggle="modal" data-target="#Details-{{ loop.index }}">Details ansehen</button>
																	<!--
																	<button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#TrainingsplanSenden">Trainingsplan schicken</button>
																	-->
																</td>
															</tr>


															
															<div class="modal fade" id="Details-{{ loop.index }}" tabindex="-1" aria-labelledby="NutzerDetails" aria-hidden="true">
																<div class="modal-dialog modal-dialog-centered">
																	<div class="modal-content">
																		<div class="modal-header">
																			<h5 class="modal-title" id="uploadModalLabel">Details für Anfrage von '{{ Anfrage['Kunden_Details']['Vorname'] }} {{ Anfrage['Kunden_Details']['Nachname'] }}'</h5>
																		</div>
																		<div class="modal-body">
																			<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
																				<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-Persönlich-tab" data-bs-toggle="pill" href="#pills-Persönlich" role="tab" aria-controls="pills-Persönlich" aria-selected="true">Persönliche Details</a>
																				</li>
																				<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-Fitness-tab" data-bs-toggle="pill" href="#pills-Fitness" role="tab" aria-controls="pills-Fitness" aria-selected="false">Fitness-Test</a>
																				</li>
																			</ul>
												
																			<div class="tab-content" id="pills-tabContent">
																				<div class="tab-pane fade active show" id="pills-Persönlich" role="tabpanel" aria-labelledby="pills-Persönlich-tab">
																					<div class="form-group mb-2 d-flex">
																						<div class="mr-2 me-1">
																							<label class="required" for="vorname">Vorname</label>
																							<input type="text" class="form-control" id="vorname" name="vorname" value="{{ Anfrage['Kunden_Details']['Vorname'] }}" readonly>
																						</div>
																						<div>
																							<label class="required" for="nachname">Nachname</label>
																							<input type="text" class="form-control" id="nachname" name="nachname" value="{{ Anfrage['Kunden_Details']['Nachname'] }}" readonly>
																						</div>
																					</div>

																					<div class="form-group mb-2">
																						<label class="required" for="name">Mitglied seit</label>
																						<input type="text" class="form-control" id="name" name="name" value="{{ Anfrage['Kunden_Details']['Erstellung'] | format_datetime('%Y-%m-%dT%H:%M:%S', '%d.%m.%Y um %H:%M Uhr') }}" readonly>
																					</div>
																				</div>
																				<div class="tab-pane fade" id="pills-Fitness" role="tabpanel" aria-labelledby="pills-Fitness-tab">
																					<h5>Allgemeine Informationen</h5>
																						<ul>
																							<li><strong>Zeitpunkt:</strong> {{ Anfrage['Fitness-Test_Details']['Zeitstempel']|format_datetime("%Y-%m-%dT%H:%M:%S.%fZ", "%d.%m.%Y um %H:%M Uhr") }}</li>
																							<li><strong>Typ:</strong> {{ Anfrage['Fitness-Test_Details']['Typ'] }}</li>
																							<li><strong>Fitness-Level (Durch Test berechnet):</strong> {{ Anfrage['Fitness-Test_Details']['Ergebnis']['Fitness_Level'] }}</li>
																							<li><strong>Gesamt-Punktzahl:</strong> {{ Anfrage['Fitness-Test_Details']['Gesamt_Punktzahl'] }}</li>
																						</ul>
				
																					<h5>Persönliche Daten</h5>
																						<ul>
																							<li><strong>Alter:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Alter'] }}</li>
																							<li><strong>Geschlecht:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Geschlecht'] }}</li>
																							<li><strong>Gewicht:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Gewicht'] }} kg</li>
																							<li><strong>Größe:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Grösse'] }} cm</li>
																							<li><strong>Fitness-Level (in Formular angegeben):</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Fitness_Level'] }}</li>
																						</ul>
				
																					<h5>Messungen</h5>
																						<ul>
																							{% for key, value in Anfrage['Fitness-Test_Details'].Daten.Messungen.items() %}
																								<li><strong>{{ key }}:</strong> {{ value or 'Nicht verfügbar' }} cm</li>
																							{% endfor %}
																						</ul>
																						
				
																					<h5>Übungsdaten</h5>
																						<ul>
																							{% for key, uebung in Anfrage['Fitness-Test_Details'].items() if key.startswith('Uebung_') %}
																								<li>
																									<strong>{{ uebung.Name }}:</strong>
																									Maximale Wiederholungen: {{ uebung.Maximale_Wiederholungen or 'Nicht verfügbar' }},
																									Erreichte Punkte: {{ uebung.Erreichte_Punkte or 'Nicht verfügbar' }}
																								</li>
																							{% endfor %}
																						</ul>
																					
																					<h5>Weitere Informationen</h5>
																						<ul>
																							<li><strong>ID:</strong> {{ Anfrage['Fitness-Test_Details'].id or 'Nicht verfügbar' }}</li>
																							<li><strong>Statement:</strong> "{{ Anfrage['Fitness-Test_Details'].Ergebnis.Statement or 'Nicht verfügbar' }}"</li>
																						</ul>
																				</div>
																			</div>
																		</div>
																		<div class="modal-footer">
																			<button type="button" class="btn btn-secondary" data-dismiss="modal">Schließen</button>
																		</div>
																	</div>
																</div>
															</div>
														{% endif %}
													{% endfor %}
												</tbody>
												<tfoot>
													<!-- GLEICH WIE <THEAD> -->
												</tfoot>
											</table>
										</div>
									</div>
								</div>
								<div class="tab-pane fade" id="pills-INAKTIV" role="tabpanel" aria-labelledby="pills-INAKTIV-tab">
									<div class="row">
										<div class="table-responsive">
											<table id="example3" class="table table-striped table-bordered" style="width:100%">
												<thead>
													<tr>
														<th>Kunde</th>
														<th>Datum</th>
														<th>Aktionen</th>
													</tr>
												</thead>
												<tbody>
													{% for Anfrage in Trainingsplan_Anfragen %}
														{% if Anfrage['Status'] != "Warten" %}
															<tr>
																<td>{{ Anfrage['Kunden_Details']['Vorname'] }} {{ Anfrage['Kunden_Details']['Nachname'] }}</td>
																<td>{{ Anfrage['date_created']|format_datetime("%Y-%m-%dT%H:%M:%S.%fZ", "%d.%m.%Y um %H:%M Uhr") }}</td>
																<td>
																	<button class="btn btn-info btn-sm" data-toggle="modal" data-target="#Details2-{{ loop.index }}">Details ansehen</button>
																</td>
															</tr>


															<div class="modal fade" id="Details2-{{ loop.index }}" tabindex="-1" aria-labelledby="NutzerDetails" aria-hidden="true">
																<div class="modal-dialog modal-dialog-centered">
																	<div class="modal-content">
																		<div class="modal-header">
																			<h5 class="modal-title" id="uploadModalLabel">Details für Anfrage von '{{ Anfrage['Kunden_Details']['Vorname'] }} {{ Anfrage['Kunden_Details']['Nachname'] }}'</h5>
																		</div>
																		<div class="modal-body" style="word-wrap: break-word; white-space: normal;">
																			<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
																				<li class="nav-item" role="presentation"> <a class="nav-link active" id="pills-Persönlich-tab" data-bs-toggle="pill" href="#pills-Persönlich" role="tab" aria-controls="pills-Persönlich" aria-selected="true">Persönliche Details</a>
																				</li>
																				<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-Fitness-tab" data-bs-toggle="pill" href="#pills-Fitness" role="tab" aria-controls="pills-Fitness" aria-selected="false">Fitness-Test</a>
																				</li>
																				<li class="nav-item" role="presentation"> <a class="nav-link" id="pills-Plan-tab" data-bs-toggle="pill" href="#pills-Plan" role="tab" aria-controls="pills-Plan" aria-selected="false">Trainingsplan</a>
																				</li>
																			</ul>
												
																			<div class="tab-content" id="pills-tabContent">
																				<div class="tab-pane fade active show" id="pills-Persönlich" role="tabpanel" aria-labelledby="pills-Persönlich-tab">
																					<div class="form-group mb-2 d-flex">
																						<div class="mr-2 me-1">
																							<label class="required" for="vorname">Vorname</label>
																							<input type="text" class="form-control" id="vorname" name="vorname" value="{{ Anfrage['Kunden_Details']['Vorname'] }}" readonly>
																						</div>
																						<div>
																							<label class="required" for="nachname">Nachname</label>
																							<input type="text" class="form-control" id="nachname" name="nachname" value="{{ Anfrage['Kunden_Details']['Nachname'] }}" readonly>
																						</div>
																					</div>

																					<div class="form-group mb-2">
																						<label class="required" for="name">Mitglied seit</label>
																						<input type="text" class="form-control" id="name" name="name" value="{{ Anfrage['Kunden_Details']['Erstellung'] | format_datetime('%Y-%m-%dT%H:%M:%S', '%d.%m.%Y um %H:%M Uhr') }}" readonly>
																					</div>
																				</div>
																				<div class="tab-pane fade" id="pills-Fitness" role="tabpanel" aria-labelledby="pills-Fitness-tab">
																					<h5>Allgemeine Informationen</h5>
																						<ul>
																							<li><strong>Zeitpunkt:</strong> {{ Anfrage['Fitness-Test_Details']['Zeitstempel']|format_datetime("%Y-%m-%dT%H:%M:%S.%fZ", "%d.%m.%Y um %H:%M Uhr") }}</li>
																							<li><strong>Typ:</strong> {{ Anfrage['Fitness-Test_Details']['Typ'] }}</li>
																							<li><strong>Fitness-Level (Durch Test berechnet):</strong> {{ Anfrage['Fitness-Test_Details']['Ergebnis']['Fitness_Level'] }}</li>
																							<li><strong>Gesamt-Punktzahl:</strong> {{ Anfrage['Fitness-Test_Details']['Gesamt_Punktzahl'] }}</li>
																						</ul>
				
																					<h5>Persönliche Daten</h5>
																						<ul>
																							<li><strong>Alter:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Alter'] }}</li>
																							<li><strong>Geschlecht:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Geschlecht'] }}</li>
																							<li><strong>Gewicht:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Gewicht'] }} kg</li>
																							<li><strong>Größe:</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Grösse'] }} cm</li>
																							<li><strong>Fitness-Level (in Formular angegeben):</strong> {{ Anfrage['Fitness-Test_Details']['Daten']['Fitness_Level'] }}</li>
																						</ul>
				
																					<h5>Messungen</h5>
																						<ul>
																							{% for key, value in Anfrage['Fitness-Test_Details'].Daten.Messungen.items() %}
																								<li><strong>{{ key }}:</strong> {{ value or 'Nicht verfügbar' }} cm</li>
																							{% endfor %}
																						</ul>
																						
				
																					<h5>Übungsdaten</h5>
																						<ul>
																							{% for key, uebung in Anfrage['Fitness-Test_Details'].items() if key.startswith('Uebung_') %}
																								<li>
																									<strong>{{ uebung.Name }}:</strong>
																									Maximale Wiederholungen: {{ uebung.Maximale_Wiederholungen or 'Nicht verfügbar' }},
																									Erreichte Punkte: {{ uebung.Erreichte_Punkte or 'Nicht verfügbar' }}
																								</li>
																							{% endfor %}
																						</ul>
																					
																					<h5>Weitere Informationen</h5>
																						<ul>
																							<li><strong>ID:</strong> {{ Anfrage['Fitness-Test_Details'].id or 'Nicht verfügbar' }}</li>
																							<li><strong>Statement:</strong> "{{ Anfrage['Fitness-Test_Details'].Ergebnis.Statement or 'Nicht verfügbar' }}"</li>
																						</ul>
																				</div>

																				
																				<div class="tab-pane fade" id="pills-Plan" role="tabpanel" aria-labelledby="pills-Plan-tab">
																					<h5>Allgemeine Informationen</h5>
																						<ul>
																							<li><strong>ID:</strong> {{ Anfrage['Trainingsplan_Details']['id'] }}</li>
																							<li><strong>Name:</strong> {{ Anfrage['Trainingsplan_Details']['Name'] }}</li>
																							<li><strong>Typ:</strong> {{ Anfrage['Trainingsplan_Details']['Typ'] }}</li>
																						</ul>

																					<script>
																						document.addEventListener('DOMContentLoaded', function () {
																							// Selektiere nur die gewünschten Karten mit einer spezifischen Klasse
																							const cards = document.querySelectorAll('.exercise-card');

																							// Modal Container
																							const modalContainer = document.getElementById('modalContainer');

																							// Event Listener für jede Karte hinzufügen
																							cards.forEach(card => {
																								card.addEventListener('click', function () {
																									// Daten aus den data-* Attributen extrahieren
																									const übungsDetails = {};
																									const dataAttributes = card.dataset;

																									// Über alle Attribute iterieren und sprachspezifische Details extrahieren
																									Object.keys(dataAttributes).forEach(key => {
																										const match = key.match(/(name|hinweise|tipps|voiceover)_(.+)/);
																										if (match) {
																											const [_, type, lang] = match; // z.B. type = "name", lang = "de"
																											übungsDetails[lang] = übungsDetails[lang] || {};
																											übungsDetails[lang][type] = dataAttributes[key];
																										}
																									});

																									languages = [
																										{
																											code: 'DE',
																											name: 'Deutsch',
																											flag: 'de',
																											placeholders: {
																												name: 'Liegestütze',
																												hinweise: 'Achten Sie darauf, dass der Rücken gerade bleibt ...',
																												tipps: 'Um die Übung effektiver zu machen, ...',
																											},
																										},
																										{
																											code: 'EN',
																											name: 'Englisch',
																											flag: 'um',
																											placeholders: {
																												name: 'Push-ups',
																												hinweise: 'Make sure that your back remains straight ...',
																												tipps: 'To make the exercise more effective, ...',
																											},
																										},
																										{
																											code: 'ES',
																											name: 'Spanisch',
																											flag: 'es',
																											placeholders: {
																												name: 'Flexiones',
																												hinweise: 'Asegúrese de que su espalda permanezca recta ...',
																												tipps: 'Para hacer el ejercicio más efectivo, ...',
																											},
																										},
																										{
																											code: 'AR',
																											name: 'Arabisch',
																											flag: 'sa',
																											placeholders: {
																												name: 'تمارين الضغط',
																												hinweise: 'تأكد من أن ظهرك يظل مستقيماً ...',
																												tipps: 'لجعل التمرين أكثر فعالية ...',
																											},
																										},
																										{
																											code: 'GR',
																											name: 'Griechisch',
																											flag: 'gr',
																											placeholders: {
																												name: 'Κάμψεις',
																												hinweise: 'Βεβαιωθείτε ότι η πλάτη σας παραμένει ευθεία ...',
																												tipps: 'Για να κάνετε την άσκηση πιο αποτελεσματική, ...',
																											},
																										},
																										{
																											code: 'RU',
																											name: 'Russisch',
																											flag: 'ru',
																											placeholders: {
																												name: 'Отжимания',
																												hinweise: 'Убедитесь, что ваша спина остается прямой ...',
																												tipps: 'Чтобы сделать упражнение более эффективным, ...',
																											},
																										},
																									];

																									// Modal-Inhalt generieren
																									const modalContent = `
																										<div class="modal-dialog modal-lg">
																											<div class="modal-content">
																												<div class="modal-header">
																													<h5 class="modal-title">${übungsDetails['de']?.name || 'Übung'}</h5>
																													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
																												</div>
																												<div class="modal-body">
																													<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
																														${languages.map((lang, index) => `
																															<li class="nav-item" role="presentation">
																																<a class="nav-link ${index === 0 ? 'active' : ''}" id="pills-${lang.code.toLowerCase()}-tab" data-bs-toggle="pill" href="#pills-${lang.code.toLowerCase()}" role="tab" aria-controls="pills-${lang.code.toLowerCase()}" aria-selected="${index === 0}">
																																	<i class="flag-icon flag-icon-${lang.flag}"></i>
																																	${lang.name}
																																</a>
																															</li>
																														`).join('')}
																													</ul>
																													<div class="tab-content" id="pills-tabContent">
																														${Object.keys(übungsDetails).map((lang, index) => `
																															<div class="tab-pane fade ${index === 0 ? 'show active' : ''}" id="pills-${lang}" role="tabpanel" aria-labelledby="pills-${lang}-tab">
																																<div class="form-group mb-3">
																																	<label>Name (${lang.toUpperCase()})</label>
																																	<input type="text" class="form-control" value="${übungsDetails[lang]?.name || ''}" readonly>
																																</div>
																																<div class="form-group mb-3">
																																	<label>Hinweise (${lang.toUpperCase()})</label>
																																	<textarea class="form-control" readonly>${übungsDetails[lang]?.hinweise || ''}</textarea>
																																</div>
																																<div class="form-group mb-3">
																																	<label>Tipps (${lang.toUpperCase()})</label>
																																	<textarea class="form-control" readonly>${übungsDetails[lang]?.tipps || ''}</textarea>
																																</div>
																																
																																<div class="form-group mb-3">
																																	<label>Voiceover (${lang.toUpperCase()})</label>
																																	<audio class="w-100" controls>
																																		<source src="https://cdn.personalpeak360.de/trainingshalle/${übungsDetails[lang]?.voiceover || ''}" type="audio/mp3">
																																		Dein Browser unterstützt das Audio-Element nicht.
																																	</audio>
																																</div>
																															</div>
																														`).join('')}

																														
																														<div class="form-group mb-3">
																															<label for="Video_Animation">Animation (Video)</label>
																															
																															<video class="w-100" muted controls>
																																<source src="https://cdn.personalpeak360.de/trainingshalle/${dataAttributes['animation']}" type="video/mp4">
																																Dein Browser unterstützt das Video-Element nicht.
																															</video>
																														</div>
																													</div>
																												</div>
																											</div>
																										</div>
																									`;

																									// Modal-Inhalt einfügen
																									modalContainer.innerHTML = modalContent;

																									// Modal anzeigen
																									const modal = new bootstrap.Modal(modalContainer);
																									modal.show();
																								});
																							});
																						});
																					</script>

																					<h5>Inhalt</h5>
																					{% if Anfrage['Trainingsplan_Details']['Typ'] == "Übungen" %}
																						<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
																							{% for woche, übungen in Anfrage['Trainingsplan_Details']['Daten'].items() %}
																								<li class="nav-item" role="presentation">
																									<a class="nav-link {% if loop.index == 1 %} active{% endif %}" id="pills-{{ woche }}-tab" data-bs-toggle="pill" href="#pills-{{ woche }}" role="tab" aria-controls="pills-{{ woche }}" aria-selected="true">{{ woche | replace("_", " ") }}</a>
																								</li>
																							{% endfor %}
																						</ul>
																						<div class="tab-content text-center" id="pills-tabContent">
																							{% for woche, übungen in Anfrage['Trainingsplan_Details']['Daten'].items() %}
																								<div class="tab-pane fade {% if loop.index == 1 %} active show{% endif %}" id="pills-{{ woche }}" role="tabpanel" aria-labelledby="pills-{{ woche }}-tab">
																									<div style="max-height: 340px; overflow-y: scroll;">
																										{% for übung_detail in übungen %}
																											<div class="card exercise-card bg-dark radius-15 mb-1"
																												data-bs-toggle="modal" data-bs-target="#modal_{{ loop.index }}"
																												data-animation="{{ übung_detail['Übung_Details']['Animation'] }}"
																												{% for lang, details in übung_detail['Übung_Details']['Texte'].items() %}
																													data-name_{{ lang.lower() }}="{{ details['Name'] }}"
																													data-hinweise_{{ lang.lower() }}="{{ details['Hinweise'] }}"
																													data-tipps_{{ lang.lower() }}="{{ details['Tipps'] }}"
																													data-voiceover_{{ lang.lower() }}="{{ details['Voiceover_ID'] }}"
																												{% endfor %}
																												style="cursor: pointer;">
																												<div class="card-body">
																													<p class="card-text text-white">{{ übung_detail['Übung_Details']['Texte']['DE']['Name'] }}</p>
																												</div>
																											</div>
																										{% endfor %}
																									</div>
																								</div>
																							{% endfor %}
																						</div>
																					{% endif %}
																				</div>
																			</div>
																		</div>
																		<div class="modal-footer">
																			<button type="button" class="btn btn-secondary" data-dismiss="modal">Schließen</button>
																		</div>
																	</div>
																</div>
															</div>
														{% endif %}
													{% endfor %}
												</tbody>
												<tfoot>
													<!-- GLEICH WIE <THEAD> -->
												</tfoot>
											</table>
										</div>
									</div>
								</div>
							</div>
                        </div>
                    </div>
					
                    <div class="card radius-15">
                        <div class="card-body">
							<div class="card-title">
								<h5 class="mb-0">Trainingspläne</h5>
							</div>
                            <div class="row">
								<div class="table-responsive">
									<table id="example2" class="table table-striped table-bordered" style="width:100%">
										<thead>
											<tr>
												<th>Name</th>
												<th>Kunde</th>
												<th>Ersteller</th>
												<th>Typ</th>
												<th>Aktionen</th>
											</tr>
										</thead>
										<tbody>
											{% for Trainingsplan in Trainingspläne %}
												<tr>
													<td>{{ Trainingsplan['Name'] }}</td>
													{% if Trainingsplan['Art'] != "Vorgefertigt" %}
														<td>{{ Trainingsplan['Nutzer_Details']['Vorname'] }} {{ Trainingsplan['Nutzer_Details']['Nachname'] }}</td>
													{% else %}
														<td>FÜR ALLE!</td>
													{% endif %}
													<td>{{ Trainingsplan['Ersteller_Details']['Vorname'] }} {{ Trainingsplan['Ersteller_Details']['Nachname'] }}</td>
													<td>{{ Trainingsplan['Art'] }}</td>
													<td>
														<button class="btn btn-info btn-sm" data-toggle="modal" data-target="#Details3-{{ loop.index }}">Details ansehen</button>
													</td>
												</tr>
											{% endfor %}
										</tbody>
										<tfoot>
											<tr>
												<th>Name</th>
												<th>Kunde</th>
												<th>Ersteller</th>
												<th>Typ</th>
												<th>Aktionen</th>
											</tr>
										</tfoot>
									</table>
								</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end page-content-wrapper-->
        </div>
        <!--end page-wrapper-->

		<!--start overlay-->
		<div class="overlay toggle-btn-mobile"></div>
		<!--end overlay-->
		<!--Start Back To Top Button--> <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
		<!--End Back To Top Button-->
		
        {{ footer | safe }}

	</div>
	<!-- end wrapper -->
	
    {{ theme_customizer | safe }}
    
	<!-- JavaScript -->
	<!-- Bootstrap JS -->
	<script src="https://cdn.personalpeak360.de/syndash/assets/js/bootstrap.bundle.min.js"></script>
	
	<!--plugins-->
	<script src="https://cdn.personalpeak360.de/syndash/assets/js/jquery.min.js"></script>
	<script src="https://cdn.personalpeak360.de/syndash/assets/plugins/simplebar/js/simplebar.min.js"></script>
	<script src="https://cdn.personalpeak360.de/syndash/assets/plugins/metismenu/js/metisMenu.min.js"></script>
	<script src="https://cdn.personalpeak360.de/syndash/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
	<!--Data Tables js-->
	<script src="https://cdn.personalpeak360.de/syndash/assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
	<script>
		$(document).ready(function () {
			//Default data table
			$('#example').DataTable();
		});

		$(document).ready(function () {
			//Default data table
			$('#example2').DataTable();
		});

		$(document).ready(function () {
			//Default data table
			$('#example3').DataTable();
		});
	</script>
	<!-- App JS -->
	<script src="https://cdn.personalpeak360.de/syndash/assets/js/app.js"></script>

	
	<script>
		new Vue({
			el: '#app',
			data: {
				error: "{{ error }}",
				success: "{{ success }}",
				punkte: "{{ punkte_nachricht }}"
			},
			methods: {
				showMessages() {
					if (this.isErrorVisible) {
						this.showError();
					}
					if (this.isSuccessVisible) {
						this.showSuccess();
					}
					if (this.isPunkteVisible) {
						this.showPunkte();
					}
				},
				showError() {
					// Create an instance of Notyf
					var message = new nachricht({
						duration: 5000,
						position: {
							x: 'right',
							y: 'top',
						},
						dismissible: true
					});
	
					// Display an error notification
					message.error('{{ error }}');
				},
				showSuccess() {
					// Create an instance of Notyf
					var message = new nachricht({
						duration: 5000,
						position: {
							x: 'right',
							y: 'top',
						},
						dismissible: true
					});
	
					// Display a success notification
					message.success('{{ success }}');
				},
				showPunkte() {
					// Create an instance of Notyf
					var message = new nachricht({
						duration: 5000,
						position: {
							x: 'right',
							y: 'top',
						},
						dismissible: true
					});
	
					// Display points notification
					message.success('{{ punkte }}'); // or use message.error() if it should be an error
				}
			},
			computed: {
				isErrorVisible: function () {
					return this.error && this.error !== '' && this.error !== 'None';
				},
				isSuccessVisible: function() {
					return this.success && this.success !== '' && this.success !== 'None';
				},
				isPunkteVisible: function() {
					return this.punkte && this.punkte !== '' && this.punkte !== 'None';
				}
			},
			watch: {
				isErrorVisible(newVal) {
					if (!newVal) {
						this.closeError();
					}
				},
				isSuccessVisible(newVal) {
					if (!newVal) {
						this.closeSuccess();
					}
				},
				isPunkteVisible(newVal) {
					if (!newVal) {
						this.closePunkte(); // You can implement this method if needed
					}
				}
			},
			created() {
				this.$nextTick(() => {
					this.showMessages();
				})
			}
		});
	</script>	
</body>

</html>